{"version":3,"sources":["lib/utils.js","ViewContext.js","svg/calendariologo.svg","components/MainHeader.js","components/Header.js","DragContext.js","components/Day.js","components/common/PostLink.js","PostsContext.js","components/PostLinks.js","components/Post.js","components/common/Loading.js","components/PostList.js","components/common/NewPostButton.js","components/DayPosts.js","lib/hooks.js","components/Calendar.js","components/List.js","components/common/FieldGroup.js","components/common/Icon.js","components/EditPost.js","components/Main.js","components/common/DrawerHandle.js","components/common/Widget.js","components/AdminLinks.js","components/UnscheduledDrafts.js","components/common/ColorPickerPopover.js","components/common/ToggleButton.js","components/StatusFilters.js","components/ViewOptions.js","components/Sidebar.js","App.js","reportWebVitals.js","index.js"],"names":["wp","window","rhdReactPlugin","dateFormat","dayKey","date","format","dateIsBetween","min","max","getTime","isDraggingUnscheduled","source","droppableId","getPostList","id","posts","unscheduled","scheduled","moveItem","destination","droppableSource","droppableDestination","sourceClone","Array","from","destClone","isEmpty","splice","index","removed","destinationIndex","undefined","length","filterPostStatus","post_status","status","includes","sanitizeParamsForUpdate","params","key","Date","ViewContext","createContext","initialViewOptions","viewMode","viewRange","start","end","postStatuses","sidebarOpen","defaultStatusColors","viewReducer","state","action","type","startOfWeek","endOfWeek","newStart","newEnd","direction","addMonths","subMonths","statuses","visible","postStatus","color","reset","Object","keys","_desc","_g","MainHeader","handleTodayClick","useContext","viewOptions","viewOptionsDispatch","useState","todayInRange","setTodayInRange","today","startOfToday","DateInput","forwardRef","ref","value","onClick","className","useEffect","startOfMonth","endOfMonth","addDays","e","preventDefault","title","disabled","selected","onChange","customInput","selectsStart","startDate","endDate","closeOnScroll","target","document","selectsEnd","minDate","monthsShown","_extends","assign","i","arguments","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCalendariologo","_ref","svgRef","titleId","props","width","height","viewBox","xmlns","xmlnsXlink","stroke","strokeWidth","fill","fillRule","d","ForwardRef","Header","DragContext","initialDrag","post","isDragging","currentIndex","newIndex","overUnscheduled","dragReducer","draggedOver","Day","day","monthName","children","dragOver","setDragOver","draggedPost","post_date","isUnscheduled","classes","isToday","push","isPast","join","getStyles","onDragOver","isSameDay","onDragLeave","onDrop","PostLink","icon","rel","PostsContext","initialPosts","currentPost","post_title","updatePost","updateNow","trash","refetch","dateRange","isUpdating","trashed","taxonomies","locale","postsReducer","scheduledPosts","forEach","post_date_day","scheduledByDate","groupBy","unscheduledPosts","sourceId","destinationId","name","taxonomy","terms","field","item","filter","PostLinks","edit_link","view_link","postsDispatch","open","decode","result","findIndex","Post","setColor","animationRequestId","setAnimationRequestId","handleClick","classList","contains","handleMouseEnter","element","timing","draw","duration","performance","now","requestAnimationFrame","time","progress","animateLinks","currentTarget","timeFraction","style","paddingBottom","handleMouseLeave","cancelAnimationFrame","handleMouseDown","snapshot","draggingOver","draggableId","isDragDisabled","innerRef","draggableProps","dragHandleProps","data-index","onMouseEnter","onMouseLeave","onMouseDown","backgroundColor","scope","replace","Loading","PostList","hovered","setHovered","droppableProps","placeholder","isDraggingOver","marginBottom","map","NewPostButton","DayPosts","renderList","renderPostList","routeBase","headers","nonce","useFetchScheduledPosts","isLoading","setIsLoading","url","a","fetch","res","json","data","console","log","message","fetchData","useFetchTaxonomyTerms","useClickOutside","handler","startedInside","startedWhenMounted","listener","event","current","validateEventStart","addEventListener","removeEventListener","Calendar","todayRef","renderDaysHeaderRow","useCallback","days","renderDays","rows","firstCalendarDay","dayIsFirstDay","isFirstDayOfMonth","allowDrag","renderEmpty","List","endOfDay","newPostButton","FieldGroup","label","inlineLabel","htmlFor","Icon","initialEditPost","editMode","ogPost","initialTaxFilter","category","post_tag","editPostReducer","term_id","parseInt","termList","slice","taxFilterReducer","EditPost","useReducer","editPost","editPostDispatch","taxFilter","taxFilterDispatch","node","useRef","initial","setDate","allowedStatuses","setAllowedStatuses","datePickerDisabled","setDatePickerDisabled","trashPostClicked","setTrashPostClicked","post_name","post_excerpt","image","post_taxonomies","slug","exclude","isFuture","statusList","filtered","omit","filterStatusList","closeModal","handleInputChange","handleTermCheckboxChange","closest","onSubmit","postLists","href","timeInputLabel","showTimeInput","checked","fontWeight","autoFocus","src","alt","toLowerCase","Main","DrawerHandle","toggle","Widget","widgetClass","widgetTitle","widgetClassLabel","AdminLinks","blogUrl","trashUrl","renderLink","link","UnscheduledDrafts","useFetchUnscheduledPosts","ColorPickerPopover","presetStatusColors","popover","previous","colorValue","setColorValue","isOpen","setIsOpen","close","background","ToggleButton","toggleSelected","StatusFilters","firstUpdate","colorsChanged","setColorsChanged","currentStatusColors","isEqual","haveColorsChanged","colors","method","body","JSON","stringify","response","toggleStatus","ViewOptions","handleViewModeChange","Sidebar","pluginUrl","App","draggedPostDispatch","defaultValue","stickyValue","localStorage","getItem","parse","setValue","setItem","useStickyState","view","setView","mainRef","user","useFetchPostStatuses","postData","sendUpdate","useUpdate","isOverUnscheduled","appClass","Provider","scroll","top","offsetTop","behavior","weekDiff","differenceInWeeks","addWeeks","onDragEnd","post_date_source","parseISO","h","getHours","m","getMinutes","setHours","setMinutes","draggedPostDestination","items","list","startIndex","endIndex","reorderUnscheduled","onDragStart","draggingUnscheduled","find","p","Number","onDragUpdate","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","appSelector","appAnchorElement","querySelector","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.959c4bc3.chunk.js","sourcesContent":["// import Widget from \"../components/common/Widget\";\nimport { omit, find, isEmpty, isEqual } from \"lodash\";\nimport {\n\tformat,\n\tparseISO,\n\tgetHours,\n\tgetMinutes,\n\tsetHours,\n\tsetMinutes,\n} from \"date-fns\";\n\nexport const wp = {\n\t...window.rhdReactPlugin,\n};\n\nexport const dateFormat = {\n\tday: \"d\",\n\tdate: \"yyyy-MM-dd\",\n\tdateTime: \"yyyy-MM-dd h:mm aa\",\n\tyear: \"yyyy\",\n\tdayName: \"EEEE\",\n\tmonthName: \"MMMM\",\n\tmonthShort: \"MMM\",\n\tfullDate: \"EEEE,  MMMM dd, yyyy\",\n\tdaylessDate: \"MMMM dd, yyyy\",\n};\n\n/**\n * Produces a filtered list of post status objects.\n *\n * @param {Array} exclude keys to exclude.\n * @return {Object} The filtered postStatuses object.\n */\nexport function filterStatusList(statuses, exclude = []) {\n\tlet filtered = statuses;\n\tif (exclude.length > 0) {\n\t\tfor (let key in filtered) {\n\t\t\tif (exclude.includes(key)) {\n\t\t\t\tfiltered = omit(filtered, key);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn filtered;\n}\n\n/**\n * Checks whether or not the user has customized the color palette.\n *\n * @param {Object} statuses\n * @returns {boolean}\n */\nexport function haveColorsChanged(statuses) {\n\tconst { defaultStatusColors } = wp;\n\tlet currentStatusColors = {};\n\tfor (const status in statuses) {\n\t\tcurrentStatusColors[status] = statuses[status].color;\n\t}\n\n\treturn !isEqual(defaultStatusColors, currentStatusColors);\n}\n\n/**\n * Retrieves a calendar day's key (format: yyyy-MM-dd)\n *\n * @param {Date}\n * @returns {string}\n */\nexport const dayKey = (date) => format(date, dateFormat.date);\n\n/**\n * Checks if a date is between 2 dates.\n *\n * @param {Date} date The target date\n * @param {Date} min Start of the range\n * @param {Date} max End of the range\n * @returns\n */\nexport const dateIsBetween = (date, min, max) =>\n\tdate.getTime() >= min.getTime() && date.getTime() <= max.getTime();\n\n/**\n * Determines if an item is being dragged is coming from the Unscheduled drafts area.\n *\n * @param {Post} item Dragged post\n * @param {string} item.source.droppableId The drop area ID\n * @returns {boolean} True if unscheduled, false otherwise\n */\nexport const isDraggingUnscheduled = ({ source: { droppableId } }) =>\n\tdroppableId === \"unscheduled\" ? true : false;\n\n/**\n * Retrieves a list of posts.\n *\n * @param {string} id\n * @param {Array|Object} posts All posts\n * @returns {Array} The posts list\n */\nexport const getPostList = (id, posts) => {\n\tlet list;\n\tif (id === \"unscheduled\") {\n\t\tlist = posts.unscheduled;\n\t} else {\n\t\tlist = posts.scheduled[id];\n\t}\n\n\treturn list;\n};\n\n/**\n *\n * @param {Object|Array} list The post list\n * @param {number} startIndex\n * @param {number} endIndex\n * @returns\n */\nexport const reorderUnscheduled = (list, startIndex, endIndex) => {\n\tconst result = Array.from(list);\n\tconst [removed] = result.splice(startIndex, 1);\n\tresult.splice(endIndex, 0, removed);\n\n\treturn result;\n};\n\n/**\n *\n * @param {Array} source The \"from\" post list\n * @param {Array} destination The \"to\" post list\n * @param {DroppableList} droppableSource\n * @param {DroppableList} droppableDestination\n * @returns {Object}\n */\nexport const moveItem = (\n\tsource,\n\tdestination,\n\tdroppableSource,\n\tdroppableDestination\n) => {\n\tconst sourceClone = Array.from(source);\n\tconst destClone = !isEmpty(destination) ? Array.from(destination) : [];\n\tconst [removed] = sourceClone.splice(droppableSource.index, 1);\n\n\tlet destinationIndex =\n\t\tdroppableDestination.index !== undefined\n\t\t\t? droppableDestination.index\n\t\t\t: !isEmpty(destination)\n\t\t\t? destination.length\n\t\t\t: 0;\n\n\tdestClone.splice(destinationIndex, 0, removed);\n\n\tconst result = {\n\t\t[droppableSource.droppableId]: sourceClone,\n\t\t[droppableDestination.droppableId]: destClone,\n\t\tsourceId: droppableSource.droppableId,\n\t\tdestinationId: droppableDestination.droppableId,\n\t};\n\n\treturn result;\n};\n\n/**\n * Prepares the post_date for a dragged post's destination using\n * its droppableID.\n *\n * @param {Date} post_date\n * @param {string} droppableId\n * @returns {draggedPostDestination}\n */\nexport const draggedPostDestination = (post_date_source, droppableId) => {\n\tlet post_date = post_date_source;\n\n\tif (droppableId !== \"unscheduled\") {\n\t\tpost_date = parseISO(droppableId); // The new date\n\n\t\t// Conserve the existing date's time value\n\t\tconst time = {\n\t\t\th: getHours(post_date_source),\n\t\t\tm: getMinutes(post_date_source),\n\t\t};\n\t\tpost_date = setHours(post_date, time.h);\n\t\tpost_date = setMinutes(post_date, time.m);\n\t}\n\n\treturn post_date;\n};\n\n/**\n * Converts non-allowed unscheduled post statuses to \"draft\"\n *\n * @param {string} post_status\n * @param {boolean} unscheduled\n * @returns {string} The filtered post status\n */\nexport function filterPostStatus(post_status, unscheduled) {\n\tlet allowedUnscheduledStatuses = [\"draft\", \"private\", \"pending\"];\n\tlet status = post_status;\n\n\tif (unscheduled === true) {\n\t\tstatus = allowedUnscheduledStatuses.includes(status) ? status : \"draft\";\n\t}\n\n\treturn status;\n}\n\n/**\n * Strips a slug from a permalink\n *\n * @param {string} url The permalink\n * @param {string} slug The post slug\n * @returns {string} The filtered URL\n */\nexport const stripPermalinkSlug = (url) => {\n\t// Remove trailing slash, if necessary\n\tif (url.substr(-1) === \"/\") {\n\t\turl = url.slice(0, -1);\n\t}\n\n\tlet parts = url.split(\"/\");\n\tparts.pop();\n\n\treturn `${parts.join(\"/\")}/`;\n};\n\n/**\n * Sanitizes post parameters for sending to the server\n *\n * @param {Object} params The post parameters\n * @returns {Object} The sanitized post parameters\n */\nexport function sanitizeParamsForUpdate(params) {\n\tfor (let key in params) {\n\t\tswitch (key) {\n\t\t\tcase \"post_date\":\n\t\t\t\tif (params[key] instanceof Date) {\n\t\t\t\t\tparams[key] = format(params[key], dateFormat.dateTime);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn params;\n}\n\n/**\n *\n * @param {int} id\n * @param {Array} scheduled Scheduled posts, keyed by day\n * @param {Array} unscheduled Unscheduled posts\n * @returns {string|null} The post's droppableId, or null if not found\n */\nexport function getPostSourceDroppableId(id, scheduled, unscheduled) {\n\tlet droppableId = null;\n\tlet found = find(unscheduled, { id: id });\n\n\tif (found) {\n\t\tdroppableId = \"unscheduled\";\n\t} else {\n\t\tfor (let key in scheduled) {\n\t\t\tfound = find(scheduled[key], { id: id });\n\t\t\tif (found) {\n\t\t\t\tdroppableId = dayKey(found.post_date);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn droppableId;\n}\n","import { createContext } from \"react\";\nimport { wp } from \"./lib/utils\";\nimport { addMonths, subMonths, startOfWeek, endOfWeek } from \"date-fns\";\n\nconst ViewContext = createContext({});\nexport default ViewContext;\n\nexport const initialViewOptions = {\n\tviewMode: \"\",\n\tviewRange: {\n\t\tstart: null,\n\t\tend: null,\n\t},\n\tpostStatuses: {},\n\tsidebarOpen: true,\n};\n\nconst { defaultStatusColors } = wp;\n\nexport function viewReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"SET_VIEW_MODE\": {\n\t\t\tconst { viewMode } = action;\n\t\t\tconst {\n\t\t\t\tviewRange: { start, end },\n\t\t\t} = state;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewMode,\n\t\t\t\tviewRange: {\n\t\t\t\t\tstart: viewMode === \"calendar\" ? startOfWeek(start) : start,\n\t\t\t\t\tend: viewMode === \"calendar\" ? endOfWeek(end) : end,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"SET_RANGE\": {\n\t\t\tconst { viewMode, viewRange } = state;\n\t\t\tconst start = action.start ? action.start : viewRange.start;\n\t\t\tconst end = action.end ? action.end : viewRange.end;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewRange: {\n\t\t\t\t\tstart: viewMode === \"list\" ? start : startOfWeek(start),\n\t\t\t\t\tend: viewMode === \"list\" ? end : endOfWeek(end),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"CHANGE_MONTH\": {\n\t\t\tconst { viewMode } = state;\n\t\t\tconst { direction } = action;\n\t\t\tlet newStart, newEnd;\n\n\t\t\tif (direction === \"next\") {\n\t\t\t\tnewStart = addMonths(state.viewRange.start, 1);\n\t\t\t\tnewEnd = addMonths(state.viewRange.end, 1);\n\t\t\t} else if (direction === \"previous\") {\n\t\t\t\tnewStart = subMonths(state.viewRange.start, 1);\n\t\t\t\tnewEnd = subMonths(state.viewRange.end, 1);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewRange: {\n\t\t\t\t\tstart:\n\t\t\t\t\t\tviewMode === \"list\" ? newStart : startOfWeek(newStart),\n\t\t\t\t\tend: viewMode === \"list\" ? newEnd : endOfWeek(newEnd),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"SET_POST_STATUSES\": {\n\t\t\tlet statuses = action.postStatuses;\n\n\t\t\t// Don't overwrite visibility, if set\n\t\t\tfor (let status in statuses) {\n\t\t\t\tstatuses[status].visible =\n\t\t\t\t\t\"visible\" in statuses[status]\n\t\t\t\t\t\t? statuses[status].visible\n\t\t\t\t\t\t: true;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostStatuses: statuses,\n\t\t\t};\n\t\t}\n\n\t\tcase \"TOGGLE_POST_STATUS\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostStatuses: {\n\t\t\t\t\t...state.postStatuses,\n\t\t\t\t\t[action.postStatus]: {\n\t\t\t\t\t\t...state.postStatuses[action.postStatus],\n\t\t\t\t\t\tvisible: !state.postStatuses[action.postStatus].visible,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"SET_POST_STATUS_COLOR\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostStatuses: {\n\t\t\t\t\t...state.postStatuses,\n\t\t\t\t\t[action.postStatus]: {\n\t\t\t\t\t\t...state.postStatuses[action.postStatus],\n\t\t\t\t\t\tcolor: action.color,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"RESET_POST_STATUS_COLORS\": {\n\t\t\tlet reset = state.postStatuses;\n\t\t\tconst statusKeys = Object.keys(state.postStatuses);\n\n\t\t\tfor (let status of statusKeys) {\n\t\t\t\treset[status].color = defaultStatusColors[status];\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostStatuses: { ...reset },\n\t\t\t};\n\t\t}\n\n\t\tcase \"TOGGLE_SIDEBAR\": {\n\t\t\tconst { sidebarOpen } = state;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsidebarOpen: !sidebarOpen,\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n","var _desc, _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCalendariologo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"707px\",\n    height: \"100px\",\n    viewBox: \"0 0 707 257\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Group 3\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#000000\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M68.9355469,113.820312 C58.6894019,119.587268 48.5182734,121.847656 39.671875,121.847656 C28.1379632,121.847656 18.773799,117.956419 11.5791016,110.173828 C4.38440413,102.391237 0.787109375,92.425191 0.787109375,80.2753906 C0.787109375,68.5175193 4.18844255,58.5514732 10.9912109,50.3769531 C17.7939793,42.2024331 26.8781984,38.1152344 38.2441406,38.1152344 C48.322316,38.1152344 56.3847354,41.6145483 62.4316406,48.6132812 C68.4785459,55.6120142 71.5019531,64.9901756 71.5019531,76.7480469 L71.5019531,83.3828125 L27.6435547,83.3828125 C27.6435547,83.3828125 26.0322266,91.9637411 29.9951172,97.0722656 C33.9580078,102.18079 39.537122,104.143681 46.1113281,102.953125 C56.5458984,101.063477 59.1884766,98.6523437 62.4316406,97.0722656 L68.9355469,113.820312 Z M48.1542969,69.1894531 L48.1542969,66.5019531 C48.1542969,62.862612 47.2024835,59.7552212 45.2988281,57.1796875 C43.3951728,54.6041538 41.0156393,53.3164062 38.1601562,53.3164062 C34.8007645,53.3164062 32.2112721,54.6321483 30.3916016,57.2636719 C28.571931,59.8951954 27.5221368,63.8704161 27.2421875,69.1894531 L48.1542969,69.1894531 Z M126.175781,2.84179688 L152.966797,2.84179688 L152.966797,120 L129.367188,120 L126.931641,110.677734 C124.412097,114.373065 121.668635,117.158519 118.701172,119.03418 C115.733709,120.90984 112.542335,121.847656 109.126953,121.847656 C101.008423,121.847656 94.4017182,117.690471 89.3066406,109.375977 C84.2115631,101.061482 81.6640625,91.4453671 81.6640625,80.5273438 C81.6640625,69.1614015 84.3935274,59.2513444 89.8525391,50.796875 C95.3115507,42.3424056 102.268187,38.1152344 110.722656,38.1152344 C113.29819,38.1152344 115.873685,38.6611274 118.449219,39.7529297 C121.024752,40.844732 123.600248,42.5104055 126.175781,44.75 L126.175781,2.84179688 Z M126.175781,64.8222656 C124.999994,63.2545495 123.79623,62.07878 122.564453,61.2949219 C121.332676,60.5110638 120.044929,60.1191406 118.701172,60.1191406 C115.621729,60.1191406 113.158212,61.8827949 111.310547,65.4101562 C109.462881,68.9375176 108.539062,73.6126011 108.539062,79.4355469 C108.539062,85.0345332 109.42089,89.6116359 111.18457,93.1669922 C112.948251,96.7223485 115.285793,98.5 118.197266,98.5 C120.716809,98.5 122.676425,97.1982552 124.076172,94.5947266 C125.475918,91.9911979 126.175781,88.8698099 126.175781,85.2304688 L126.175781,64.8222656 Z M183.369141,0.91015625 C187.008482,0.91015625 190.311834,2.2258983 193.279297,4.85742188 C196.24676,7.48894545 197.730469,10.9042759 197.730469,15.1035156 C197.730469,19.0787959 196.316746,22.4381373 193.489258,25.1816406 C190.66177,27.9251439 187.288431,29.296875 183.369141,29.296875 C179.33787,29.296875 175.936537,27.8831522 173.165039,25.0556641 C170.393541,22.228176 169.007812,18.8828318 169.007812,15.0195312 C169.007812,11.1002408 170.435533,7.76889393 173.291016,5.02539062 C176.146499,2.28188732 179.50584,0.91015625 183.369141,0.91015625 Z M169.931641,39.9628906 L196.554688,39.9628906 L196.554688,120 L169.931641,120 L169.931641,39.9628906 Z M221.078125,15.859375 L243.25,15.859375 L243.25,39.9628906 L256.519531,39.9628906 L256.519531,59.53125 L244.425781,59.53125 L244.425781,92.2851562 C244.425781,97.3242439 246.441386,99.84375 250.472656,99.84375 C252.432301,99.84375 254.447906,99.0878982 256.519531,97.5761719 L256.519531,119.244141 C251.592423,120.979826 246.581406,121.847656 241.486328,121.847656 C233.199828,121.847656 227.111022,119.874043 223.219727,115.926758 C219.328431,111.979472 217.382812,105.862672 217.382812,97.5761719 L217.382812,59.53125 L207.556641,59.53125 L207.556641,39.9628906 L218.894531,39.9628906 L221.078125,15.859375 Z M302.878906,38.1152344 C313.908909,38.1152344 322.951137,41.7545209 330.005859,49.0332031 C337.060582,56.3118854 340.587891,66.5018876 340.587891,79.6035156 C340.587891,92.0332653 337.200555,102.181276 330.425781,110.047852 C323.651008,117.914427 314.440813,121.847656 302.794922,121.847656 C291.14903,121.847656 282.078809,117.956419 275.583984,110.173828 C269.08916,102.391237 265.841797,92.48118 265.841797,80.4433594 C265.841797,67.90163 269.24313,57.7116277 276.045898,49.8730469 C282.848667,42.034466 291.792913,38.1152344 302.878906,38.1152344 Z M303.130859,58.6074219 C299.827457,58.6074219 297.335946,60.3850734 295.65625,63.9404297 C293.976554,67.495786 293.136719,72.8287405 293.136719,79.9394531 C293.136719,86.938186 293.962557,92.2011542 295.614258,95.7285156 C297.265959,99.255877 299.743473,101.019531 303.046875,101.019531 C306.406267,101.019531 308.911776,99.2698743 310.563477,95.7705078 C312.215178,92.2711414 313.041016,87.0221704 313.041016,80.0234375 C313.041016,72.856735 312.215178,67.495786 310.563477,63.9404297 C308.911776,60.3850734 306.434261,58.6074219 303.130859,58.6074219 Z M379.304688,50.5449219 C380.928394,46.401672 382.916004,43.2942812 385.267578,41.2226562 C387.619152,39.1510313 390.362615,38.1152344 393.498047,38.1152344 C395.513682,38.1152344 397.669259,38.7311136 399.964844,39.9628906 L399.964844,65.1582031 C397.22134,63.8144464 394.729829,63.1425781 392.490234,63.1425781 C389.074853,63.1425781 386.247407,64.5283065 384.007812,67.2998047 C381.768218,70.0713029 380.648438,73.6126087 380.648438,77.9238281 L380.648438,120 L353.605469,120 L353.605469,39.9628906 L376.617188,39.9628906 L379.304688,50.5449219 Z M423.396484,0.91015625 C427.035825,0.91015625 430.339178,2.2258983 433.306641,4.85742188 C436.274103,7.48894545 437.757812,10.9042759 437.757812,15.1035156 C437.757812,19.0787959 436.34409,22.4381373 433.516602,25.1816406 C430.689113,27.9251439 427.315775,29.296875 423.396484,29.296875 C419.365214,29.296875 415.963881,27.8831522 413.192383,25.0556641 C410.420885,22.228176 409.035156,18.8828318 409.035156,15.0195312 C409.035156,11.1002408 410.462876,7.76889393 413.318359,5.02539062 C416.173842,2.28188732 419.533184,0.91015625 423.396484,0.91015625 Z M409.958984,39.9628906 L436.582031,39.9628906 L436.582031,120 L409.958984,120 L409.958984,39.9628906 Z M457.998047,44.5820312 C467.124395,40.2708118 475.774699,38.1152344 483.949219,38.1152344 C489.996124,38.1152344 495.273089,39.1790258 499.780273,41.3066406 C504.287457,43.4342554 508.080714,46.8775804 511.160156,51.6367188 C514.239599,56.3958571 515.779297,62.4706662 515.779297,69.8613281 L515.779297,96.7363281 C515.779297,104.518919 517.374984,112.273399 520.566406,120 L493.859375,120 C492.851557,117.760405 492.039717,115.212905 491.423828,112.357422 C488.792305,115.492854 486.034845,117.85839 483.151367,119.454102 C480.267889,121.049813 477.230485,121.847656 474.039062,121.847656 C467.824188,121.847656 462.267277,119.370142 457.368164,114.415039 C452.469051,109.459936 450.019531,103.427119 450.019531,96.3164062 C450.019531,80.3033054 463.820826,70.5332208 491.423828,67.0058594 C490.80794,64.0943865 489.296236,61.9108146 486.888672,60.4550781 C484.481108,58.9993417 481.177755,58.2714844 476.978516,58.2714844 C470.819631,58.2714844 464.492871,60.7909904 457.998047,65.8300781 L457.998047,44.5820312 Z M491.423828,80.2753906 C480.225855,81.2832082 474.626953,85.4543904 474.626953,92.7890625 C474.626953,95.5325658 475.466788,97.8561103 477.146484,99.7597656 C478.82618,101.663421 480.813791,102.615234 483.109375,102.615234 C485.796888,102.615234 487.854485,101.467459 489.282227,99.171875 C490.709968,96.8762906 491.423828,93.9928559 491.423828,90.5214844 L491.423828,80.2753906 Z M531.652344,2.84179688 L558.359375,2.84179688 L558.359375,120 L531.652344,120 L531.652344,2.84179688 Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.3398438,248.597656 C55.9335938,256.847656 44.5117465,256.847656 38.96875,256.847656 C29.2265138,256.847656 21.0101246,252.830444 14.3193359,244.795898 C7.62854728,236.761353 4.28320312,226.865293 4.28320312,215.107422 C4.28320312,203.40554 7.71253081,193.481486 14.5712891,185.334961 C21.4300473,177.188436 30.0103652,173.115234 40.3125,173.115234 C44.8476789,173.115234 55.9335938,175.261719 63.3398438,181.679688 L55.9335938,200.578125 C52.2942526,197.946601 49.0468893,196.630859 46.1914063,196.630859 C42.1041462,196.630859 38.6608213,198.31053 35.8613281,201.669922 C33.061835,205.029314 31.6621094,209.284479 31.6621094,214.435547 C31.6621094,219.586614 33.0758322,223.911766 35.9033203,227.411133 C38.7308084,230.910499 42.048158,232.660156 45.8554688,232.660156 C49.1588707,232.660156 52.5182121,231.176447 55.9335938,228.208984 L63.3398438,248.597656 Z M78.3820313,179.582031 C87.508379,175.270812 96.1586831,173.115234 104.333203,173.115234 C110.380108,173.115234 115.657074,174.179026 120.164258,176.306641 C124.671442,178.434255 128.464698,181.87758 131.544141,186.636719 C134.623583,191.395857 136.163281,197.470666 136.163281,204.861328 L136.163281,231.736328 C136.163281,239.518919 137.758968,247.273399 140.950391,255 L114.243359,255 C113.235542,252.760405 112.423701,250.212905 111.807813,247.357422 C109.176289,250.492854 106.41883,252.85839 103.535352,254.454102 C100.651874,256.049813 97.6144691,256.847656 94.4230469,256.847656 C88.2081721,256.847656 82.6512615,254.370142 77.7521484,249.415039 C72.8530354,244.459936 70.4035156,238.427119 70.4035156,231.316406 C70.4035156,215.303305 84.2048099,205.533221 111.807813,202.005859 C111.191924,199.094386 109.68022,196.910815 107.272656,195.455078 C104.865092,193.999342 101.56174,193.271484 97.3625,193.271484 C91.2036151,193.271484 84.8768554,195.79099 78.3820313,200.830078 L78.3820313,179.582031 Z M111.807813,215.275391 C100.60984,216.283208 95.0109375,220.45439 95.0109375,227.789062 C95.0109375,230.532566 95.8507729,232.85611 97.5304688,234.759766 C99.2101647,236.663421 101.197775,237.615234 103.493359,237.615234 C106.180873,237.615234 108.238469,236.467459 109.666211,234.171875 C111.093952,231.876291 111.807813,228.992856 111.807813,225.521484 L111.807813,215.275391 Z M152.336328,137.841797 L179.043359,137.841797 L179.043359,255 L152.336328,255 L152.336328,137.841797 Z M299.436328,183.277344 C301.787902,179.861962 304.461378,177.314462 307.456836,175.634766 C310.452294,173.95507 313.797638,173.115234 317.492969,173.115234 C323.819823,173.115234 329.096789,175.424782 333.324023,180.043945 C337.551258,184.663109 339.664844,190.415981 339.664844,197.302734 L339.664844,255 L313.041797,255 L313.041797,202.845703 C313.041797,198.310524 311.362126,196.042969 308.002734,196.042969 C305.65116,196.042969 303.775528,197.274727 302.375781,199.738281 C300.976035,202.201835 300.276172,205.64516 300.276172,210.068359 L300.276172,255 L273.905078,255 L273.905078,174.962891 L296.832813,174.962891 L299.436328,183.277344 Z M395.578125,137.841797 L422.369141,137.841797 L422.369141,255 L398.769531,255 L396.333984,245.677734 C393.814441,249.373065 391.070978,252.158519 388.103516,254.03418 C385.136053,255.90984 381.944679,256.847656 378.529297,256.847656 C370.410767,256.847656 363.804062,252.690471 358.708984,244.375977 C353.613907,236.061482 351.066406,226.445367 351.066406,215.527344 C351.066406,204.161402 353.795871,194.251344 359.254883,185.796875 C364.713895,177.342406 371.670531,173.115234 380.125,173.115234 C382.700534,173.115234 385.276029,173.661127 387.851563,174.75293 C390.427096,175.844732 393.002591,177.510405 395.578125,179.75 L395.578125,137.841797 Z M395.578125,199.822266 C394.402338,198.254549 393.198574,197.07878 391.966797,196.294922 C390.73502,195.511064 389.447272,195.119141 388.103516,195.119141 C385.024073,195.119141 382.560556,196.882795 380.712891,200.410156 C378.865225,203.937518 377.941406,208.612601 377.941406,214.435547 C377.941406,220.034533 378.823233,224.611636 380.586914,228.166992 C382.350595,231.722349 384.688137,233.5 387.599609,233.5 C390.119153,233.5 392.078769,232.198255 393.478516,229.594727 C394.878262,226.991198 395.578125,223.86981 395.578125,220.230469 L395.578125,199.822266 Z M439.909375,179.582031 C449.035723,175.270812 457.686027,173.115234 465.860547,173.115234 C471.907452,173.115234 477.184418,174.179026 481.691602,176.306641 C486.198786,178.434255 489.992042,181.87758 493.071484,186.636719 C496.150927,191.395857 497.690625,197.470666 497.690625,204.861328 L497.690625,231.736328 C497.690625,239.518919 499.286312,247.273399 502.477734,255 L475.770703,255 C474.762886,252.760405 473.951045,250.212905 473.335156,247.357422 C470.703633,250.492854 467.946173,252.85839 465.062695,254.454102 C462.179217,256.049813 459.141813,256.847656 455.950391,256.847656 C449.735516,256.847656 444.178605,254.370142 439.279492,249.415039 C434.380379,244.459936 431.930859,238.427119 431.930859,231.316406 C431.930859,215.303305 445.732154,205.533221 473.335156,202.005859 C472.719268,199.094386 471.207564,196.910815 468.8,195.455078 C466.392436,193.999342 463.089084,193.271484 458.889844,193.271484 C452.730959,193.271484 446.404199,195.79099 439.909375,200.830078 L439.909375,179.582031 Z M473.335156,215.275391 C462.137184,216.283208 456.538281,220.45439 456.538281,227.789062 C456.538281,230.532566 457.378117,232.85611 459.057813,234.759766 C460.737508,236.663421 462.725119,237.615234 465.020703,237.615234 C467.708217,237.615234 469.765813,236.467459 471.193555,234.171875 C472.621296,231.876291 473.335156,228.992856 473.335156,225.521484 L473.335156,215.275391 Z M537.807031,185.544922 C539.430737,181.401672 541.418348,178.294281 543.769922,176.222656 C546.121496,174.151031 548.864958,173.115234 552.000391,173.115234 C554.016026,173.115234 556.171603,173.731114 558.467188,174.962891 L558.467188,200.158203 C555.723684,198.814446 553.232173,198.142578 550.992578,198.142578 C547.577197,198.142578 544.749751,199.528306 542.510156,202.299805 C540.270562,205.071303 539.150781,208.612609 539.150781,212.923828 L539.150781,255 L512.107813,255 L512.107813,174.962891 L535.119531,174.962891 L537.807031,185.544922 Z M258.148438,248.705078 C247.902293,254.472034 237.731164,256.732422 228.884766,256.732422 C217.350854,256.732422 207.98669,252.841185 200.791992,245.058594 C193.597295,237.276003 190,227.309957 190,215.160156 C190,203.402285 193.401333,193.436239 200.204102,185.261719 C207.00687,177.087199 216.091089,173 227.457031,173 C237.535207,173 245.597626,176.499314 251.644531,183.498047 C257.691436,190.49678 260.714844,199.874941 260.714844,211.632812 L260.714844,218.267578 L216.856445,218.267578 C216.856445,218.267578 215.245117,226.848507 219.208008,231.957031 C223.170898,237.065556 228.750013,239.028446 235.324219,237.837891 C245.758789,235.948242 248.401367,233.537109 251.644531,231.957031 L258.148438,248.705078 Z M236.912109,203.873047 L236.912109,201.185547 C236.912109,197.546206 235.960296,194.438815 234.056641,191.863281 C232.152985,189.287748 229.773452,188 226.917969,188 C223.558577,188 220.969085,189.315742 219.149414,191.947266 C217.329744,194.578789 216.279949,198.55401 216,203.873047 L236.912109,203.873047 Z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M566.523438,228.140625 C570.498718,228.140625 573.760078,229.456367 576.307617,232.087891 C578.855156,234.719414 580.128906,237.8548 580.128906,241.494141 C580.128906,245.189472 578.841159,248.338854 576.265625,250.942383 C573.690091,253.545911 570.610695,254.847656 567.027344,254.847656 C563.499982,254.847656 560.448581,253.545911 557.873047,250.942383 C555.297513,248.338854 554.009766,245.217466 554.009766,241.578125 C554.009766,237.770814 555.325508,234.57944 557.957031,232.003906 C560.588555,229.428373 563.443995,228.140625 566.523438,228.140625 Z M604.646484,133.910156 C608.285825,133.910156 611.589178,135.225898 614.556641,137.857422 C617.524103,140.488945 619.007812,143.904276 619.007812,148.103516 C619.007812,152.078796 617.59409,155.438137 614.766602,158.181641 C611.939113,160.925144 608.565775,162.296875 604.646484,162.296875 C600.615214,162.296875 597.213881,160.883152 594.442383,158.055664 C591.670885,155.228176 590.285156,151.882832 590.285156,148.019531 C590.285156,144.100241 591.712876,140.768894 594.568359,138.025391 C597.423842,135.281887 600.783184,133.910156 604.646484,133.910156 Z M591.208984,172.962891 L617.832031,172.962891 L617.832031,253 L591.208984,253 L591.208984,172.962891 Z M668.642578,171.115234 C679.672581,171.115234 688.714808,174.754521 695.769531,182.033203 C702.824254,189.311885 706.351562,199.501888 706.351562,212.603516 C706.351562,225.033265 702.964227,235.181276 696.189453,243.047852 C689.41468,250.914427 680.204485,254.847656 668.558594,254.847656 C656.912702,254.847656 647.84248,250.956419 641.347656,243.173828 C634.852832,235.391237 631.605469,225.48118 631.605469,213.443359 C631.605469,200.90163 635.006802,190.711628 641.80957,182.873047 C648.612339,175.034466 657.556585,171.115234 668.642578,171.115234 Z M668.894531,191.607422 C665.591129,191.607422 663.099618,193.385073 661.419922,196.94043 C659.740226,200.495786 658.900391,205.82874 658.900391,212.939453 C658.900391,219.938186 659.726229,225.201154 661.37793,228.728516 C663.029631,232.255877 665.507145,234.019531 668.810547,234.019531 C672.169939,234.019531 674.675447,232.269874 676.327148,228.770508 C677.978849,225.271141 678.804688,220.02217 678.804688,213.023438 C678.804688,205.856735 677.978849,200.495786 676.327148,196.94043 C674.675447,193.385073 672.197933,191.607422 668.894531,191.607422 Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendariologo);\nexport default __webpack_public_path__ + \"static/media/calendariologo.141d7820.svg\";\nexport { ForwardRef as ReactComponent };","import { forwardRef, useContext, useEffect, useState } from \"react\";\n// import ViewOptions from \"./ViewOptions\";\nimport DatePicker from \"react-datepicker\";\nimport { addDays, startOfToday, startOfMonth, endOfMonth } from \"date-fns\";\n\nimport ViewContext from \"../ViewContext\";\n// import PostsContext from \"../PostsContext\";\nimport { dateFormat, dateIsBetween } from \"../lib/utils\";\n\nexport default function MainHeader({ handleTodayClick }) {\n\tconst {\n\t\tviewOptions: { viewRange },\n\t\tviewMode,\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\t// const { postsDispatch } = useContext(PostsContext);\n\tconst [todayInRange, setTodayInRange] = useState(true);\n\n\tconst today = startOfToday();\n\n\tconst DateInput = forwardRef(({ value, onClick }, ref) => (\n\t\t<button className=\"viewRange__input\" onClick={onClick} ref={ref}>\n\t\t\t{value}\n\t\t</button>\n\t));\n\n\tuseEffect(() => {\n\t\tconst { start, end } = viewRange;\n\t\tif (start !== null && end !== null) {\n\t\t\tsetTodayInRange(dateIsBetween(new Date(), start, end));\n\t\t}\n\t}, [viewRange]);\n\n\tuseEffect(() => {\n\t\t// set a sensible default range\n\t\tif (!viewRange.start && !viewRange.end) {\n\t\t\tviewOptionsDispatch({\n\t\t\t\ttype: \"SET_RANGE\",\n\t\t\t\tstart: viewMode === \"calendar\" ? startOfMonth(today) : today,\n\t\t\t\tend:\n\t\t\t\t\tviewMode === \"calendar\" ? endOfMonth() : addDays(today, 30),\n\t\t\t});\n\t\t}\n\t}, [today, viewRange.start, viewRange.end, viewMode, viewOptionsDispatch]);\n\n\tconst nextMonth = (e) => {\n\t\te.preventDefault();\n\t\tviewOptionsDispatch({ type: \"CHANGE_MONTH\", direction: \"next\" });\n\t};\n\n\tconst prevMonth = (e) => {\n\t\te.preventDefault();\n\t\tviewOptionsDispatch({ type: \"CHANGE_MONTH\", direction: \"previous\" });\n\t};\n\n\treturn (\n\t\t<div className=\"calendarHeaderControls\">\n\t\t\t<div className=\"col col__start\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"icon control dateChevron\"\n\t\t\t\t\tonClick={prevMonth}\n\t\t\t\t\ttitle=\"Previous Month\"\n\t\t\t\t>\n\t\t\t\t\tchevron_left\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"viewControl\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"today control todayButton\"\n\t\t\t\t\tonClick={handleTodayClick}\n\t\t\t\t\tdisabled={todayInRange}\n\t\t\t\t>\n\t\t\t\t\tToday\n\t\t\t\t</button>\n\t\t\t\t<div className=\"viewRange\">\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tdateFormat={dateFormat.daylessDate}\n\t\t\t\t\t\tselected={viewRange.start}\n\t\t\t\t\t\tonChange={(date) =>\n\t\t\t\t\t\t\tviewOptionsDispatch({\n\t\t\t\t\t\t\t\ttype: \"SET_RANGE\",\n\t\t\t\t\t\t\t\tstart: date,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcustomInput={<DateInput />}\n\t\t\t\t\t\tselectsStart\n\t\t\t\t\t\tstartDate={viewRange.start}\n\t\t\t\t\t\tendDate={viewRange.end}\n\t\t\t\t\t\tcloseOnScroll={(e) => e.target === document}\n\t\t\t\t\t/>\n\t\t\t\t\t{\" to \"}\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tdateFormat={dateFormat.daylessDate}\n\t\t\t\t\t\tselected={viewRange.end}\n\t\t\t\t\t\tonChange={(date) =>\n\t\t\t\t\t\t\tviewOptionsDispatch({\n\t\t\t\t\t\t\t\ttype: \"SET_RANGE\",\n\t\t\t\t\t\t\t\tend: date,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcustomInput={<DateInput />}\n\t\t\t\t\t\tselectsEnd\n\t\t\t\t\t\tstartDate={viewRange.start}\n\t\t\t\t\t\tendDate={viewRange.end}\n\t\t\t\t\t\tminDate={viewRange.start}\n\t\t\t\t\t\tmonthsShown={2}\n\t\t\t\t\t\tcloseOnScroll={(e) => e.target === document}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"col col__end\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"icon control dateChevron\"\n\t\t\t\t\tonClick={nextMonth}\n\t\t\t\t\ttitle=\"Next Month\"\n\t\t\t\t>\n\t\t\t\t\tchevron_right\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport MainHeader from \"./MainHeader\";\nimport { ReactComponent as Logo } from '../svg/calendariologo.svg';\n\nexport default function Header({ handleTodayClick }) {\n\treturn (\n\t\t<header className=\"calendarioMain__header\">\n\t\t\t<div className=\"calendarioMain__header__content\">\n\t\t\t\t<div className=\"calendarHeader\">\n\t\t\t\t\t<MainHeader handleTodayClick={handleTodayClick} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"title\">\n\t\t\t\t\t<h1 className=\"calendarioMain__title\">\n\t\t\t\t\t\t<Logo />\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n","import { createContext } from \"react\";\n\nconst DragContext = createContext(null);\nexport default DragContext;\n\nexport const initialDrag = {\n\tpost: {},\n\tisDragging: false,\n\tcurrentIndex: null,\n\tnewIndex: null,\n\toverUnscheduled: false,\n};\n\nexport function dragReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"START\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpost: action.post,\n\t\t\t\tisDragging: true,\n\t\t\t\tcurrentIndex:\n\t\t\t\t\taction.currentIndex >= 0 ? action.currentIndex : false,\n\t\t\t};\n\t\t}\n\n\t\tcase \"DRAGGING_OVER_UNSCHEDULED\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewIndex: action.draggedOver,\n\t\t\t\toverUnscheduled: true,\n\t\t\t};\n\t\t}\n\n\t\tcase \"DRAGGING_OVER_CALENDAR\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewIndex: initialDrag.newIndex,\n\t\t\t\toverUnscheduled: false,\n\t\t\t};\n\t\t}\n\n\t\tcase \"END\": {\n\t\t\treturn initialDrag;\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n","import React, { forwardRef, useContext, useState } from \"react\";\nimport { dateFormat } from \"../lib/utils\";\nimport { format, isToday, isPast, isSameDay } from \"date-fns\";\n\nimport DragContext from \"../DragContext\";\n\nconst Day = forwardRef(({ day, monthName, children }, ref) => {\n\tconst [dragOver, setDragOver] = useState(false);\n\tconst {\n\t\tdraggedPost: {\n\t\t\tpost: { post_date },\n\t\t\tisUnscheduled,\n\t\t},\n\t} = useContext(DragContext);\n\n\tconst handleDragOver = () => {\n\t\tif (!isUnscheduled && isSameDay(day, post_date)) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetDragOver(true);\n\t};\n\n\tfunction getStyles() {\n\t\tlet classes = [\"day\", \"col\", \"cell\"];\n\n\t\tif (isToday(day)) {\n\t\t\tclasses.push(\"today\");\n\t\t}\n\n\t\tif (isPast(day) && !isToday(day)) {\n\t\t\tclasses.push(\"past\");\n\t\t}\n\n\t\tif (dragOver) {\n\t\t\tclasses.push(\"dragOver\");\n\t\t}\n\n\t\treturn classes.join(\" \");\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={getStyles()}\n\t\t\tref={isToday(day) ? ref : null}\n\t\t\tonDragOver={handleDragOver}\n\t\t\tonDragLeave={() => setDragOver(false)}\n\t\t\tonDrop={() => setDragOver(false)}\n\t\t>\n\t\t\t{monthName ? <span className=\"month\">{monthName}</span> : \"\"}\n\t\t\t<span className=\"number\">{format(day, dateFormat.day)}</span>\n\n\t\t\t{children}\n\t\t</div>\n\t);\n});\n\nexport default Day;\n","import React from \"react\";\n\nexport default function PostLink({ title, icon, onClick, target, children }) {\n\treturn (\n\t\t<button\n\t\t\ttitle={title}\n\t\t\tclassName={`icon postLink icon__${icon}`}\n\t\t\tonClick={onClick}\n\t\t\ttarget={target ? target : \"\"}\n\t\t\trel=\"noreferrer\"\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n}\n","import { createContext } from \"react\";\nimport { dateFormat, dayKey } from \"./lib/utils\";\nimport { groupBy } from \"lodash\";\nimport { format } from \"date-fns\";\n\nconst PostsContext = createContext({});\nexport default PostsContext;\n\nexport const initialPosts = {\n\tcurrentPost: {\n\t\tid: null,\n\t\tpost_title: \"\",\n\t\tpost_status: \"\",\n\t\tpost_date: \"\",\n\t\tunscheduled: null,\n\t},\n\tupdatePost: {\n\t\tupdateNow: false,\n\t\ttrash: false,\n\t\tid: null,\n\t\tparams: {},\n\t\tnewIndex: null,\n\t\tunscheduled: false,\n\t},\n\trefetch: false, // Toggle value to trigger refetch\n\tdateRange: {\n\t\tstart: \"\",\n\t\tend: \"\",\n\t},\n\tisUpdating: null,\n\tunscheduled: [],\n\tscheduled: [],\n\ttrashed: [],\n\ttaxonomies: {},\n\tlocale: \"\",\n};\n\nexport function postsReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"SET_SCHEDULED\": {\n\t\t\tlet { posts: scheduledPosts } = action;\n\n\t\t\t// cast the date as a Date object\n\t\t\tscheduledPosts.forEach((post, index) => {\n\t\t\t\tscheduledPosts[index].post_date = new Date(post.post_date);\n\t\t\t\tscheduledPosts[index].post_date_day = format(\n\t\t\t\t\tscheduledPosts[index].post_date,\n\t\t\t\t\tdateFormat.date\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tlet scheduledByDate = groupBy(scheduledPosts, \"post_date_day\");\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdateRange: {\n\t\t\t\t\tstart: action.start ? action.start : state.dateRange.start,\n\t\t\t\t\tend: action.end ? action.end : state.dateRange.end,\n\t\t\t\t},\n\t\t\t\tscheduled: scheduledByDate,\n\t\t\t};\n\t\t}\n\n\t\tcase \"SET_UNSCHEDULED\": {\n\t\t\tlet { posts: unscheduledPosts } = action;\n\n\t\t\t// cast the date as a Date object\n\t\t\tunscheduledPosts.forEach((post, index) => {\n\t\t\t\tunscheduledPosts[index].post_date = new Date(post.post_date);\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tunscheduled: unscheduledPosts,\n\t\t\t};\n\t\t}\n\n\t\tcase \"MOVE_POST\": {\n\t\t\t//TODO kill this and let UPDATE_POST handle\n\t\t\tlet { scheduled, unscheduled } = state;\n\t\t\tconst { source, sourceId, destination, destinationId } = action;\n\n\t\t\tif (action.sourceId === \"unscheduled\") {\n\t\t\t\tunscheduled = source;\n\t\t\t} else {\n\t\t\t\tscheduled[sourceId] = source;\n\t\t\t}\n\n\t\t\tif (destinationId === \"unscheduled\") {\n\t\t\t\tunscheduled = destination;\n\t\t\t} else {\n\t\t\t\tscheduled[destinationId] = destination;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tunscheduled,\n\t\t\t\tscheduled,\n\t\t\t};\n\t\t}\n\n\t\tcase \"SET_TAXONOMY_TERMS\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttaxonomies: {\n\t\t\t\t\t...state.taxonomies,\n\t\t\t\t\t[action.name]: {\n\t\t\t\t\t\ttaxonomy: action.taxonomy,\n\t\t\t\t\t\tterms: action.terms,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"SET_CURRENTPOST\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: {\n\t\t\t\t\t...action.post,\n\t\t\t\t\tunscheduled: action.unscheduled,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"REFETCH\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trefetch: !state.refetch,\n\t\t\t};\n\t\t}\n\n\t\tcase \"CREATE_NEW_POST\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: {\n\t\t\t\t\tid: 0,\n\t\t\t\t\tpost_date: action.post_date,\n\t\t\t\t\tpost_status: \"draft\",\n\t\t\t\t\tunscheduled: action.unscheduled,\n\t\t\t\t\ttaxonomies: {},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"UPDATE_CURRENTPOST_FIELD\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: {\n\t\t\t\t\t...state.currentPost,\n\t\t\t\t\t[action.field]: action.value,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"UNSET_CURRENTPOST\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: initialPosts.currentPost,\n\t\t\t};\n\t\t}\n\n\t\tcase \"PREPARE_UPDATE\": {\n\t\t\tconst { id, params, newIndex, unscheduled } = action;\n\n\t\t\tconst index =\n\t\t\t\tunscheduled && newIndex === -1 ? unscheduled.length : newIndex;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdatePost: {\n\t\t\t\t\tupdateNow: true,\n\t\t\t\t\tid,\n\t\t\t\t\tparams,\n\t\t\t\t\tunscheduled,\n\t\t\t\t\tnewIndex: index,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"UPDATE_INIT\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdatePost: {\n\t\t\t\t\t...state.updatePost,\n\t\t\t\t\tupdateNow: false,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase \"ADD_POST\": {\n\t\t\tconst { droppableId } = action;\n\t\t\tconst {\n\t\t\t\tupdatePost: { id, params },\n\t\t\t} = state;\n\t\t\tlet { scheduled, unscheduled } = state;\n\n\t\t\tconst post = {\n\t\t\t\tid,\n\t\t\t\t...params,\n\t\t\t};\n\n\t\t\tif (droppableId === \"unscheduled\") {\n\t\t\t\tunscheduled.push(post);\n\t\t\t} else {\n\t\t\t\tif (scheduled.hasOwnProperty(droppableId)) {\n\t\t\t\t\tscheduled[droppableId].push(post);\n\t\t\t\t} else {\n\t\t\t\t\tscheduled = {\n\t\t\t\t\t\t...scheduled,\n\t\t\t\t\t\t[droppableId]: [post],\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tscheduled,\n\t\t\t\tunscheduled,\n\t\t\t\tisUpdating: droppableId,\n\t\t\t};\n\t\t}\n\n\t\tcase \"UPDATE_POST\": {\n\t\t\tconst { droppableId, unscheduled: isUnscheduled } = action;\n\t\t\tlet {\n\t\t\t\tupdatePost: { id, params },\n\t\t\t\tscheduled,\n\t\t\t\tunscheduled,\n\t\t\t} = state;\n\n\t\t\t// Cast the date as a Date\n\t\t\tif (typeof params.post_date === \"string\") {\n\t\t\t\tparams.post_date = new Date(params.post_date);\n\t\t\t}\n\n\t\t\tif (isUnscheduled) {\n\t\t\t\tunscheduled.forEach((item, index) => {\n\t\t\t\t\tif (item.id === id) {\n\t\t\t\t\t\tunscheduled[index] = {\n\t\t\t\t\t\t\t...unscheduled[index],\n\t\t\t\t\t\t\t...params,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst key = dayKey(params.post_date);\n\t\t\t\tscheduled[key].forEach((item, index) => {\n\t\t\t\t\tif (item.id === id) {\n\t\t\t\t\t\tscheduled[key][index] = {\n\t\t\t\t\t\t\t...scheduled[key][index],\n\t\t\t\t\t\t\t...params,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tscheduled,\n\t\t\t\tunscheduled,\n\t\t\t\tisUpdating: droppableId,\n\t\t\t};\n\t\t}\n\n\t\tcase \"REMOVE_POST\": {\n\t\t\tconst { droppableId } = action;\n\t\t\tconst {\n\t\t\t\tupdatePost: { id },\n\t\t\t} = state;\n\t\t\tlet { scheduled, unscheduled } = state;\n\n\t\t\tif (droppableId === \"unscheduled\") {\n\t\t\t\tunscheduled = unscheduled.filter((item) => item.id !== id);\n\t\t\t} else {\n\t\t\t\tscheduled[droppableId] = scheduled[droppableId].filter(\n\t\t\t\t\t(item) => item.id !== id\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tscheduled,\n\t\t\t\tunscheduled,\n\t\t\t\tisUpdating: droppableId,\n\t\t\t};\n\t\t}\n\n\t\tcase \"UPDATE_SUCCESS\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisUpdating: initialPosts.isUpdating,\n\t\t\t\tupdatePost: initialPosts.updatePost,\n\t\t\t};\n\t\t}\n\n\t\tcase \"UPDATE_ERROR\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisUpdating: initialPosts.isUpdating,\n\t\t\t\trefetch: !state.refetch,\n\t\t\t\tupdatePost: initialPosts.updatePost,\n\t\t\t};\n\t\t}\n\n\t\tcase \"SEND_TO_TRASH\": {\n\t\t\tconst { id, params, unscheduled } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdatePost: {\n\t\t\t\t\tupdateNow: true,\n\t\t\t\t\ttrash: true,\n\t\t\t\t\tid,\n\t\t\t\t\tparams,\n\t\t\t\t\tunscheduled,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n","import React, { useContext } from \"react\";\nimport PostLink from \"./common/PostLink\";\nimport { getPostList, moveItem, dayKey, filterPostStatus } from \"../lib/utils\";\nimport { decode } from \"html-entities\";\n\nimport PostsContext from \"../PostsContext\";\n\nexport default function PostLinks({ post, unscheduled }) {\n\tconst { id, edit_link, view_link } = post;\n\tconst { posts, postsDispatch } = useContext(PostsContext);\n\n\tconst unschedulePost = (e) => {\n\t\te.preventDefault();\n\n\t\tconst { post_date, post_status } = post;\n\t\tconst sourceId = dayKey(post_date);\n\t\tconst destinationId = \"unscheduled\";\n\n\t\tconst result = moveItem(\n\t\t\tgetPostList(sourceId, posts),\n\t\t\tgetPostList(destinationId, posts),\n\t\t\t{ droppableId: sourceId },\n\t\t\t{ droppableId: destinationId }\n\t\t);\n\n\t\tpostsDispatch({\n\t\t\ttype: \"MOVE_POST\",\n\t\t\tsource: result[sourceId],\n\t\t\tdestination: result[destinationId],\n\t\t\tsourceId,\n\t\t\tdestinationId,\n\t\t});\n\n\t\tpostsDispatch({\n\t\t\ttype: \"PREPARE_UPDATE\",\n\t\t\tid,\n\t\t\tparams: {\n\t\t\t\tpost_status: filterPostStatus(post_status, true),\n\t\t\t},\n\t\t\tunscheduled: true,\n\t\t});\n\t};\n\n\tconst schedulePost = (e) => {\n\t\te.preventDefault();\n\n\t\tconst { id, post_date } = post;\n\t\tconst sourceId = \"unscheduled\";\n\t\tconst source = getPostList(sourceId, posts);\n\t\tconst destinationId = dayKey(post_date);\n\t\tconst destination = getPostList(destinationId, posts);\n\n\t\tconst result = moveItem(\n\t\t\tsource,\n\t\t\tdestination,\n\t\t\t{\n\t\t\t\tdroppableId: sourceId,\n\t\t\t\tindex: source.findIndex((item) => item.id === id),\n\t\t\t},\n\t\t\t{ droppableId: destinationId }\n\t\t);\n\n\t\tpostsDispatch({\n\t\t\ttype: \"MOVE_POST\",\n\t\t\tsource: result[sourceId],\n\t\t\tdestination: result[destinationId],\n\t\t\tsourceId,\n\t\t\tdestinationId,\n\t\t});\n\n\t\tpostsDispatch({\n\t\t\ttype: \"PREPARE_UPDATE\",\n\t\t\tid,\n\t\t\tunscheduled: false,\n\t\t\tparams: {\n\t\t\t\tpost_date,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst trashPost = () => {\n\t\tconst { post_date } = post;\n\t\tpostsDispatch({\n\t\t\ttype: \"SEND_TO_TRASH\",\n\t\t\tid: id,\n\t\t\tparams: {\n\t\t\t\tpost_date,\n\t\t\t},\n\t\t\tunscheduled,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"postLinks\">\n\t\t\t<PostLink\n\t\t\t\ticon=\"view\"\n\t\t\t\ttitle=\"View Post\"\n\t\t\t\tonClick={() => window.open(view_link, \"_blank\")}\n\t\t\t\ttarget=\"_blank\"\n\t\t\t>\n\t\t\t\topen_in_new\n\t\t\t</PostLink>\n\t\t\t<PostLink\n\t\t\t\ticon=\"edit\"\n\t\t\t\ttitle=\"Edit Post in a new tab\"\n\t\t\t\tonClick={() => window.open(decode(edit_link), \"_blank\")}\n\t\t\t>\n\t\t\t\tmode_edit\n\t\t\t</PostLink>\n\t\t\t{unscheduled ? (\n\t\t\t\t<PostLink\n\t\t\t\t\ticon=\"schedule\"\n\t\t\t\t\ttitle=\"Schedule this post\"\n\t\t\t\t\tonClick={schedulePost}\n\t\t\t\t>\n\t\t\t\t\tevent_available\n\t\t\t\t</PostLink>\n\t\t\t) : (\n\t\t\t\t<PostLink\n\t\t\t\t\ticon=\"unschedule\"\n\t\t\t\t\ttitle=\"Unschedule this post\"\n\t\t\t\t\tonClick={unschedulePost}\n\t\t\t\t>\n\t\t\t\t\tevent_busy\n\t\t\t\t</PostLink>\n\t\t\t)}\n\t\t\t<PostLink icon=\"trash\" title=\"Trash this post\" onClick={trashPost}>\n\t\t\t\tdelete_forever\n\t\t\t</PostLink>\n\t\t</div>\n\t);\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport PostLinks from \"./PostLinks\";\nimport { Draggable } from \"react-beautiful-dnd\";\nimport { isEmpty } from \"lodash\";\nimport { decode } from \"html-entities\";\n\nimport PostsContext from \"../PostsContext\";\nimport DragContext from \"../DragContext\";\nimport ViewContext from \"../ViewContext\";\n\nexport default function Post({ post, index, unscheduled }) {\n\tconst {\n\t\tposts: { currentPost, isUpdating },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst {\n\t\tdraggedPost: { isDragging },\n\t} = useContext(DragContext);\n\tconst {\n\t\tviewOptions: { postStatuses },\n\t} = useContext(ViewContext);\n\tconst [color, setColor] = useState(\"\");\n\tconst [animationRequestId, setAnimationRequestId] = useState(null);\n\n\tuseEffect(() => {\n\t\tif (postStatuses === undefined || isEmpty(postStatuses)) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetColor(postStatuses[post.post_status].color);\n\n\t\t// return () => {\n\t\t// \tsetColor(\"\");\n\t\t// };\n\t}, [post.post_status, postStatuses]);\n\n\tconst handleClick = (e) => {\n\t\t// Skip if clicking a QuickLink button\n\t\tif (e.target.classList.contains(\"icon\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tpostsDispatch({\n\t\t\ttype: \"SET_CURRENTPOST\",\n\t\t\tpost: post,\n\t\t\tunscheduled,\n\t\t});\n\t};\n\n\tconst handleMouseEnter = (e) => {\n\t\tanimateLinks(e.currentTarget, {\n\t\t\ttiming: function (timeFraction) {\n\t\t\t\treturn timeFraction;\n\t\t\t},\n\t\t\tdraw: function (element, progress) {\n\t\t\t\telement.style.paddingBottom = progress + 30 + \"px\";\n\t\t\t},\n\t\t\tduration: 50,\n\t\t});\n\t};\n\n\tfunction animateLinks(element, { timing, draw, duration }) {\n\t\tlet start = performance.now();\n\n\t\tsetAnimationRequestId(() =>\n\t\t\trequestAnimationFrame(function animate(time) {\n\t\t\t\tlet timeFraction = (time - start) / duration;\n\n\t\t\t\tlet progress = timing(timeFraction);\n\t\t\t\tdraw(element, progress);\n\t\t\t})\n\t\t);\n\t}\n\n\tconst handleMouseLeave = (e) => {\n\t\te.currentTarget.style.paddingBottom = 0;\n\t\tcancelAnimationFrame(animationRequestId);\n\t};\n\n\tconst handleMouseDown = (e) => {\n\t\t// Close the postLinks drawer if we're clicking or dragging, but not on the drawer itself\n\t\tif (\n\t\t\t!e.target.classList.contains(\"postLinks\") &&\n\t\t\t!e.target.classList.contains(\"postLink\")\n\t\t) {\n\t\t\tcancelAnimationFrame(animationRequestId);\n\t\t\te.currentTarget.style.paddingBottom = 0;\n\t\t}\n\t};\n\n\tfunction getStyles(snapshot) {\n\t\tlet classes = [\n\t\t\t\"post\",\n\t\t\t`post-id-${post.id} status__${post.post_status}`,\n\t\t];\n\n\t\tif (\n\t\t\t(unscheduled === false &&\n\t\t\t\tpostStatuses[post.post_status].visible === true) ||\n\t\t\tunscheduled === true\n\t\t) {\n\t\t\tclasses.push(\"visible\");\n\t\t} else {\n\t\t\tclasses.push(\"hidden\");\n\t\t}\n\n\t\tif (!isEmpty(currentPost) && currentPost.id === post.id) {\n\t\t\tclasses.push(\"currentPost\");\n\t\t}\n\n\t\tif (snapshot.isDragging) {\n\t\t\tclasses.push(\"dragging\");\n\t\t}\n\n\t\tif (snapshot.draggingOver === \"unscheduled\") {\n\t\t\tclasses.push(\"over__unscheduled\");\n\t\t} else if (snapshot.draggingOver !== null) {\n\t\t\tclasses.push(\"over__calendar\");\n\t\t} else {\n\t\t\tclasses.push(\"over__none\");\n\t\t}\n\n\t\tif (isUpdating) {\n\t\t\tclasses.push(\"locked\");\n\t\t}\n\n\t\treturn classes.join(\" \");\n\t}\n\n\treturn !isEmpty(postStatuses) ? (\n\t\t<Draggable\n\t\t\tdraggableId={`${post.id}`}\n\t\t\tindex={index}\n\t\t\tisDragDisabled={isUpdating ? true : false}\n\t\t>\n\t\t\t{({ innerRef, draggableProps, dragHandleProps }, snapshot) => (\n\t\t\t\t<li\n\t\t\t\t\tref={innerRef}\n\t\t\t\t\t{...draggableProps}\n\t\t\t\t\t{...dragHandleProps}\n\t\t\t\t\tkey={post.id}\n\t\t\t\t\tclassName={getStyles(snapshot)}\n\t\t\t\t\tdata-index={index}\n\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\tonMouseEnter={handleMouseEnter}\n\t\t\t\t\tonMouseLeave={handleMouseLeave}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"postData\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: color,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"postData__title\">\n\t\t\t\t\t\t\t{decode(post.post_title, { scope: \"strict\" })}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{!isDragging ? (\n\t\t\t\t\t\t<PostLinks\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: color.replace(\n\t\t\t\t\t\t\t\t\t/,1\\)/,\n\t\t\t\t\t\t\t\t\t\",0.75)\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tpost={post}\n\t\t\t\t\t\t\tunscheduled={unscheduled}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t</li>\n\t\t\t)}\n\t\t</Draggable>\n\t) : null;\n}\n","import React from \"react\";\n\nexport default function Loading() {\n\treturn (\n\t\t<div className=\"loadingOverlay\">\n\t\t\t<div className=\"roller\">\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState, useContext } from \"react\";\nimport Post from \"./Post\";\nimport Loading from \"./common/Loading\";\nimport { dateFormat } from \"../lib/utils\";\nimport { Droppable } from \"react-beautiful-dnd\";\nimport { format } from \"date-fns\";\nimport { isEmpty } from \"lodash\";\n\nimport PostsContext from \"../PostsContext\";\n\nexport default function PostList({ posts, className, date }) {\n\tconst {\n\t\tposts: { isUpdating },\n\t} = useContext(PostsContext);\n\tconst [hovered, setHovered] = useState(false);\n\n\tconst droppableId =\n\t\tdate === false ? \"unscheduled\" : format(date, dateFormat.date);\n\n\treturn (\n\t\t<Droppable droppableId={droppableId}>\n\t\t\t{({ innerRef, droppableProps, placeholder }, snapshot) => (\n\t\t\t\t<>\n\t\t\t\t\t{isUpdating === droppableId ? <Loading /> : null}\n\t\t\t\t\t<ul\n\t\t\t\t\t\tref={innerRef}\n\t\t\t\t\t\t{...droppableProps}\n\t\t\t\t\t\tclassName={`postList ${className} ${\n\t\t\t\t\t\t\tsnapshot.isDraggingOver ? \"draggingOver\" : \"idle\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tonMouseEnter={() => setHovered(true)}\n\t\t\t\t\t\tonMouseLeave={() => setHovered(false)}\n\t\t\t\t\t\tstyle={hovered ? { marginBottom: 0 } : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!isEmpty(posts)\n\t\t\t\t\t\t\t? posts.map((post, index) => (\n\t\t\t\t\t\t\t\t\t<Post\n\t\t\t\t\t\t\t\t\t\tpost={post}\n\t\t\t\t\t\t\t\t\t\tkey={post.id}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\tunscheduled={\n\t\t\t\t\t\t\t\t\t\t\tdroppableId === \"unscheduled\"\n\t\t\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t{placeholder}\n\t\t\t\t\t</ul>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Droppable>\n\t);\n}\n","import React, { useContext } from \"react\";\n\nimport PostsContext from \"../../PostsContext\";\n\nexport default function NewPostButton({ day, unscheduled }) {\n\tconst { postsDispatch } = useContext(PostsContext);\n\n\tconst handleNewPost = (e) => {\n\t\te.preventDefault();\n\n\t\tpostsDispatch({\n\t\t\ttype: \"CREATE_NEW_POST\",\n\t\t\tpost_date: day ? day : new Date(),\n\t\t\tunscheduled: unscheduled ? unscheduled : false,\n\t\t});\n\t};\n\n\treturn (\n\t\t<button className=\"icon newPost\" onClick={handleNewPost}>\n\t\t\tadd_circle\n\t\t</button>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport PostList from \"./PostList\";\nimport NewPostButton from \"./common/NewPostButton\";\nimport DragContext from \"../DragContext\";\n\nexport default function DayPosts({ posts, date, title }) {\n\tconst {\n\t\tdraggedPost: { isDragging },\n\t} = useContext(DragContext);\n\n\tconst renderPostList = () => {\n\t\tconst renderList = (\n\t\t\t<>\n\t\t\t\t{!isDragging ? (\n\t\t\t\t\t<NewPostButton day={date} unscheduled={false} />\n\t\t\t\t) : null}\n\t\t\t\t<PostList\n\t\t\t\t\tclassName=\"dayPosts\"\n\t\t\t\t\tdate={date}\n\t\t\t\t\tposts={posts}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\n\t\tif (title) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<h4 className=\"title\">{title}</h4>\n\t\t\t\t\t{renderList}\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn renderList;\n\t\t}\n\t};\n\n\treturn renderPostList();\n}\n","import { useState, useEffect } from \"react\";\nimport { wp, dateFormat } from \"../lib/utils\";\nimport { format } from \"date-fns\";\nimport { isEmpty } from \"lodash\";\nimport { sanitizeParamsForUpdate } from \"../lib/utils\";\n\nconst { routeBase, nonce } = wp;\nconst headers = {\n\t\"Content-Type\": \"application/json\",\n\t\"X-WP-Nonce\": nonce,\n};\n\n/**\n * Uses localStorage to save view-specific user options.\n *\n * @param {*} defaultValue The default option value\n * @param {string} key The option key\n * @returns {[state, setter]} The useState state and setter\n */\nexport const useStickyState = (defaultValue, key) => {\n\tconst [value, setValue] = useState(() => {\n\t\tconst stickyValue = window.localStorage.getItem(key);\n\t\treturn stickyValue !== null ? JSON.parse(stickyValue) : defaultValue;\n\t});\n\n\tuseEffect(() => {\n\t\twindow.localStorage.setItem(key, JSON.stringify(value));\n\t}, [key, value]);\n\n\treturn [value, setValue];\n};\n\n/**\n * Retrieves 'scheduled' posts from the server\n * @param {Date} start The range's start\n * @param {Date} end The range's end\n * @param {Object} posts PostsContext store\n * @param {Function} postsDispatch PostsContext reducer\n * @returns {boolean} The current loading state\n */\nexport const useFetchScheduledPosts = (start, end, posts, postsDispatch) => {\n\tconst { refetch } = posts;\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (start !== null && end !== null) {\n\t\t\tlet startDate = format(start, dateFormat.date);\n\t\t\tlet endDate = format(end, dateFormat.date);\n\t\t\tlet url = `${routeBase}/posts/scheduled/${startDate}/${endDate}`;\n\n\t\t\tconst fetchData = async () => {\n\t\t\t\tsetIsLoading(true);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch(url, {\n\t\t\t\t\t\theaders,\n\t\t\t\t\t});\n\t\t\t\t\tconst data = await res.json();\n\n\t\t\t\t\tpostsDispatch({\n\t\t\t\t\t\ttype: \"SET_SCHEDULED\",\n\t\t\t\t\t\tposts: data.posts,\n\t\t\t\t\t\tstart: data.dateRange.start,\n\t\t\t\t\t\tend: data.dateRange.end,\n\t\t\t\t\t});\n\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(\"REST error\", error.message);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchData();\n\n\t\t\treturn () => {\n\t\t\t\tsetIsLoading(false);\n\t\t\t};\n\t\t}\n\t}, [start, end, refetch, postsDispatch]);\n\n\treturn isLoading;\n};\n\n/**\n * Retrieves 'unscheduled' posts from the server\n *\n * @param {Object} posts PostsContext store\n * @param {Function} postsDispatch PostsContext reducer\n * @returns {boolean} The current loading state\n */\nexport const useFetchUnscheduledPosts = (posts, postsDispatch) => {\n\tconst { refetch } = posts;\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet url = `${routeBase}/posts/unscheduled`;\n\n\t\tconst fetchData = async () => {\n\t\t\tsetIsLoading(true);\n\n\t\t\ttry {\n\t\t\t\tconst res = await fetch(url, {\n\t\t\t\t\theaders,\n\t\t\t\t});\n\t\t\t\tconst data = await res.json();\n\n\t\t\t\tpostsDispatch({\n\t\t\t\t\ttype: \"SET_UNSCHEDULED\",\n\t\t\t\t\tposts: data.posts,\n\t\t\t\t});\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(\"REST error\", error.message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tfetchData();\n\n\t\treturn () => {\n\t\t\tsetIsLoading(false);\n\t\t};\n\t}, [postsDispatch, refetch]);\n\n\treturn isLoading;\n};\n\n/**\n * Retrieves the set of post statuses from the server\n *\n * @param {Function} viewOptionsDispatch ViewContext reducer\n * @returns {boolean} The current loading state\n */\nexport const useFetchPostStatuses = (viewOptionsDispatch) => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet url = `${routeBase}/statuses`;\n\n\t\tconst fetchData = async () => {\n\t\t\tsetIsLoading(true);\n\n\t\t\ttry {\n\t\t\t\tconst res = await fetch(url, {\n\t\t\t\t\theaders,\n\t\t\t\t});\n\t\t\t\tconst data = await res.json();\n\n\t\t\t\tviewOptionsDispatch({\n\t\t\t\t\ttype: \"SET_POST_STATUSES\",\n\t\t\t\t\tpostStatuses: data,\n\t\t\t\t});\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(\"REST error\", error.message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tfetchData();\n\n\t\treturn () => {\n\t\t\tsetIsLoading(false);\n\t\t};\n\t}, [viewOptionsDispatch]);\n\n\treturn isLoading;\n};\n\n/**\n * Retrieves all terms of a taxonomy\n *\n * @param {string} name The taxonomy name (slug) to fetch\n * @param {Object} posts PostsContext store\n * @param {Function} postsDispatch PostsContext reducer\n * @returns {boolean} The current loading state\n */\nexport const useFetchTaxonomyTerms = (name, posts, postsDispatch) => {\n\tconst { taxonomies } = posts;\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\t// Only fetch categories if not already set\n\t\tif (isEmpty(taxonomies[name])) {\n\t\t\tlet url = `${routeBase}/tax/${name}`;\n\n\t\t\tconst fetchData = async () => {\n\t\t\t\tsetIsLoading(true);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch(url, {\n\t\t\t\t\t\theaders,\n\t\t\t\t\t});\n\t\t\t\t\tconst data = await res.json();\n\n\t\t\t\t\tpostsDispatch({\n\t\t\t\t\t\ttype: \"SET_TAXONOMY_TERMS\",\n\t\t\t\t\t\tname,\n\t\t\t\t\t\ttaxonomy: data.taxonomy,\n\t\t\t\t\t\tterms: data.terms,\n\t\t\t\t\t});\n\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(\"REST error\", error.message);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchData();\n\n\t\t\treturn () => {\n\t\t\t\tsetIsLoading(false);\n\t\t\t};\n\t\t}\n\t}, [name, taxonomies, postsDispatch]);\n\n\treturn isLoading;\n};\n\n/**\n *\n * @param {Object} posts PostsContext store\n * @param {Function} postsDispatch PostsContext reducer\n * @param {Object} draggedPost DragContext store\n * @param {Function} draggedPostDispatch DragContext reducer\n * @param {number} user User ID\n * @returns {void}\n */\nexport const useUpdate = (\n\tposts,\n\tpostsDispatch,\n\tdraggedPost,\n\tdraggedPostDispatch,\n\tuser\n) => {\n\tuseEffect(() => {\n\t\tconst {\n\t\t\tupdatePost: { updateNow, id, params, unscheduled, newIndex, trash },\n\t\t} = posts;\n\n\t\tif (updateNow === true && id !== undefined) {\n\t\t\tconst droppableId =\n\t\t\t\tunscheduled === true\n\t\t\t\t\t? \"unscheduled\"\n\t\t\t\t\t: format(new Date(params.post_date), dateFormat.date);\n\n\t\t\tpostsDispatch({\n\t\t\t\ttype: \"UPDATE_INIT\",\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Check if this is a new post, a post to trash, or an existing post,\n\t\t\t * and set the proper URL\n\t\t\t */\n\t\t\tlet url = `${routeBase}/posts/`;\n\t\t\tif (trash === true) {\n\t\t\t\turl += `trash/${id}/${user}`;\n\t\t\t\tpostsDispatch({ type: \"REMOVE_POST\", droppableId });\n\t\t\t} else if (id === 0) {\n\t\t\t\turl += `new/${user}`;\n\t\t\t\tpostsDispatch({ type: \"ADD_POST\", droppableId });\n\t\t\t} else {\n\t\t\t\turl += `update/${id}/${user}`;\n\t\t\t\tpostsDispatch({\n\t\t\t\t\ttype: \"UPDATE_POST\",\n\t\t\t\t\tdroppableId,\n\t\t\t\t\tunscheduled,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet postData = {\n\t\t\t\tparams: sanitizeParamsForUpdate(params),\n\t\t\t\tunscheduled,\n\t\t\t};\n\n\t\t\tif (newIndex !== null) {\n\t\t\t\tpostData.newIndex = newIndex;\n\t\t\t}\n\n\t\t\tconst sendUpdate = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tbody: JSON.stringify(postData),\n\t\t\t\t\t});\n\t\t\t\t\tconst data = await response.json();\n\n\t\t\t\t\tif (data && data > 0) {\n\t\t\t\t\t\tpostsDispatch({ type: \"UPDATE_SUCCESS\", id, params });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpostsDispatch({\n\t\t\t\t\t\t\ttype: \"UPDATE_ERROR\",\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tparams,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tdraggedPostDispatch({\n\t\t\t\t\t\ttype: \"END\",\n\t\t\t\t\t});\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error.message);\n\t\t\t\t}\n\n\t\t\t\tpostsDispatch({\n\t\t\t\t\ttype: \"REFETCH\",\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsendUpdate();\n\t\t}\n\t}, [user, posts, draggedPost, draggedPostDispatch, postsDispatch]);\n};\n\n/**\n * Retrieves 'scheduled' posts from the server\n * @param {Object} ref The element's ref\n * @param {Function} end The handler function\n * @returns {void}\n */\nexport const useClickOutside = (ref, handler) => {\n\tuseEffect(() => {\n\t\tlet startedInside = false;\n\t\tlet startedWhenMounted = false;\n\n\t\tconst listener = (event) => {\n\t\t\t// Do nothing if `mousedown` or `touchstart` started inside ref element\n\t\t\tif (startedInside || !startedWhenMounted) return;\n\t\t\t// Do nothing if clicking ref's element or descendent elements\n\t\t\tif (!ref.current || ref.current.contains(event.target)) return;\n\n\t\t\thandler(event);\n\t\t};\n\n\t\tconst validateEventStart = (event) => {\n\t\t\tstartedWhenMounted = ref.current;\n\t\t\tstartedInside = ref.current && ref.current.contains(event.target);\n\t\t};\n\n\t\tdocument.addEventListener(\"mousedown\", validateEventStart);\n\t\tdocument.addEventListener(\"touchstart\", validateEventStart);\n\t\tdocument.addEventListener(\"click\", listener);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"mousedown\", validateEventStart);\n\t\t\tdocument.removeEventListener(\"touchstart\", validateEventStart);\n\t\t\tdocument.removeEventListener(\"click\", listener);\n\t\t};\n\t}, [ref, handler]);\n};\n","import React, { useContext, useCallback } from \"react\";\nimport Day from \"./Day\";\nimport DayPosts from \"./DayPosts\";\nimport { useFetchScheduledPosts } from \"../lib/hooks\";\nimport { dateFormat, dayKey } from \"../lib/utils\";\nimport {\n\tformat,\n\taddDays,\n\tstartOfWeek,\n\tisFirstDayOfMonth,\n\tisToday,\n} from \"date-fns\";\n\nimport PostsContext from \"../PostsContext\";\nimport ViewContext from \"../ViewContext\";\n\nexport default function Calendar({ className, todayRef }) {\n\tconst {\n\t\tposts,\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst {\n\t\tviewOptions: { viewRange },\n\t} = useContext(ViewContext);\n\n\tconst { scheduled } = posts;\n\n\tuseFetchScheduledPosts(\n\t\tviewRange.start,\n\t\tviewRange.end,\n\t\tposts,\n\t\tpostsDispatch\n\t);\n\n\tconst renderDaysHeaderRow = useCallback(() => {\n\t\tconst days = [];\n\n\t\tlet startDate = startOfWeek(viewRange.start);\n\n\t\tfor (let i = 0; i < 7; i++) {\n\t\t\tdays.push(\n\t\t\t\t<div className=\"col col__center\" key={i}>\n\t\t\t\t\t{format(addDays(startDate, i), dateFormat.dayName)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn <div className=\"days row\">{days}</div>;\n\t}, [viewRange.start]);\n\n\tconst renderDays = useCallback(() => {\n\t\tconst rows = [];\n\n\t\tlet days = [];\n\t\tlet day = viewRange.start;\n\t\tlet firstCalendarDay = true;\n\n\t\twhile (day < viewRange.end) {\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tconst dayIsFirstDay =\n\t\t\t\t\tisFirstDayOfMonth(day) || firstCalendarDay;\n\n\t\t\t\tdays.push(\n\t\t\t\t\t<Day\n\t\t\t\t\t\tkey={day}\n\t\t\t\t\t\tref={isToday(day) ? todayRef : null}\n\t\t\t\t\t\tday={day}\n\t\t\t\t\t\tmonthName={\n\t\t\t\t\t\t\tdayIsFirstDay\n\t\t\t\t\t\t\t\t? format(day, dateFormat.monthShort)\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DayPosts\n\t\t\t\t\t\t\tdate={day}\n\t\t\t\t\t\t\tposts={scheduled[dayKey(day)]}\n\t\t\t\t\t\t\tallowDrag={true}\n\t\t\t\t\t\t\trenderEmpty={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Day>\n\t\t\t\t);\n\n\t\t\t\tfirstCalendarDay = false;\n\t\t\t\tday = addDays(day, 1);\n\t\t\t}\n\n\t\t\trows.push(\n\t\t\t\t<div className=\"row\" key={day}>\n\t\t\t\t\t{days}\n\t\t\t\t</div>\n\t\t\t);\n\t\t\tdays = [];\n\t\t}\n\t\treturn <div className=\"body\">{rows}</div>;\n\t}, [viewRange.end, viewRange.start, scheduled, todayRef]);\n\n\tconst renderCalendar = () => {\n\t\treturn (\n\t\t\t<div className=\"view__calendar__inner\">\n\t\t\t\t{renderDaysHeaderRow()}\n\t\t\t\t{renderDays()}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t{viewRange.start !== null && viewRange.end !== null\n\t\t\t\t? renderCalendar()\n\t\t\t\t: null}\n\t\t</div>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport DayPosts from \"./DayPosts\";\nimport { dateFormat, dayKey } from \"../lib/utils\";\nimport { format, addDays, endOfDay, isToday, isPast } from \"date-fns\";\n\nimport { useFetchScheduledPosts } from \"../lib/hooks\";\n\nimport PostsContext from \"../PostsContext\";\nimport ViewContext from \"../ViewContext\";\n\nexport default function List({ className }) {\n\tconst { posts, postsDispatch } = useContext(PostsContext);\n\tconst {\n\t\tviewOptions: {\n\t\t\tviewRange: { start, end },\n\t\t},\n\t} = useContext(ViewContext);\n\n\tconst { scheduled } = posts;\n\n\tuseFetchScheduledPosts(start, end, posts, postsDispatch);\n\n\tconst renderDays = () => {\n\t\tlet days = [];\n\t\tlet day = start;\n\t\tlet classes = [\"listDay\"];\n\n\t\tif (end !== \"undefined\" && end !== null) {\n\t\t\twhile (endOfDay(day) <= endOfDay(end)) {\n\t\t\t\tif (isToday(day)) {\n\t\t\t\t\tclasses.push(\"today\");\n\t\t\t\t}\n\t\t\t\tif (isPast(day) && !isToday(day)) {\n\t\t\t\t\tclasses.push(\"past\");\n\t\t\t\t}\n\n\t\t\t\tdays.push(\n\t\t\t\t\t<li key={day} className={classes.join(\" \")}>\n\t\t\t\t\t\t<DayPosts\n\t\t\t\t\t\t\tdate={day}\n\t\t\t\t\t\t\tposts={scheduled[dayKey(day)]}\n\t\t\t\t\t\t\tallowDrag={true}\n\t\t\t\t\t\t\ttitle={format(day, dateFormat.fullDate)}\n\t\t\t\t\t\t\tnewPostButton={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\n\t\t\t\tday = addDays(day, 1);\n\t\t\t}\n\t\t}\n\n\t\treturn days;\n\t};\n\n\tconst renderList = () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"view__list__days\">\n\t\t\t\t\t<ul>{renderDays()}</ul>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t{start !== null && end !== null ? renderList() : null}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nexport default function FieldGroup({ name, label, inlineLabel, children }) {\n\tconst renderInput = () => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`fieldGroup fieldGroup__${name} ${\n\t\t\t\t\tinlineLabel ? \"inlineLabel\" : \"\"\n\t\t\t\t}`}\n\t\t\t>\n\t\t\t\t{label ? <label htmlFor={name}>{label}</label> : null}\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn renderInput();\n}\n","import React from \"react\";\n\nexport default function Icon({ className, children }) {\n\treturn (\n\t\t<span className={className ? `icon ${className}` : \"icon\"}>\n\t\t\t{children}\n\t\t</span>\n\t);\n}\n","import React, {\n\tuseContext,\n\tuseRef,\n\tuseEffect,\n\tuseState,\n\tuseReducer,\n\tuseCallback,\n} from \"react\";\nimport FieldGroup from \"./common/FieldGroup\";\nimport Icon from \"./common/Icon\";\nimport { useClickOutside } from \"../lib/hooks\";\nimport {\n\tdateFormat,\n\tdayKey,\n\tfilterPostStatus,\n\tfilterStatusList,\n\tgetPostList,\n\tmoveItem,\n\t// stripPermalinkSlug,\n} from \"../lib/utils\";\nimport DatePicker from \"react-datepicker\";\nimport { format, isFuture, isPast, isToday } from \"date-fns\";\nimport { isEmpty } from \"lodash\";\nimport { decode } from \"html-entities\";\n\nimport PostsContext from \"../PostsContext\";\nimport ViewContext from \"../ViewContext\";\n\nconst initialEditPost = {\n\tpost: {},\n\teditMode: false,\n\togPost: null,\n};\n\nconst initialTaxFilter = {\n\tcategory: \"\",\n\tpost_tag: \"\",\n};\n\nfunction editPostReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"SET\":\n\t\t\treturn {\n\t\t\t\tpost: action.post,\n\t\t\t\teditMode: true,\n\t\t\t\togPost: action.post,\n\t\t\t};\n\n\t\tcase \"EDIT\":\n\t\t\tconst { field } = action;\n\t\t\tvar { value } = action;\n\n\t\t\tif (field === \"post_date\") {\n\t\t\t\tvalue = new Date(value);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpost: {\n\t\t\t\t\t...state.post,\n\t\t\t\t\t[field]: value,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"TOGGLE_TAXONOMY\":\n\t\t\tconst term_id = parseInt(action.term_id);\n\t\t\tconst index = state.post.taxonomies.hasOwnProperty(action.taxonomy)\n\t\t\t\t? state.post.taxonomies[action.taxonomy].indexOf(term_id)\n\t\t\t\t: false;\n\t\t\tlet termList =\n\t\t\t\tindex === -1\n\t\t\t\t\t? [...state.post.taxonomies[action.taxonomy], term_id]\n\t\t\t\t\t: index === false\n\t\t\t\t\t? [term_id]\n\t\t\t\t\t: [\n\t\t\t\t\t\t\t...state.post.taxonomies[action.taxonomy].slice(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t...state.post.taxonomies[action.taxonomy].slice(\n\t\t\t\t\t\t\t\tindex + 1\n\t\t\t\t\t\t\t),\n\t\t\t\t\t  ];\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpost: {\n\t\t\t\t\t...state.post,\n\t\t\t\t\ttaxonomies: {\n\t\t\t\t\t\t...state.post.taxonomies,\n\t\t\t\t\t\t[action.taxonomy]: termList,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"CLEAR\":\n\t\t\treturn initialEditPost;\n\n\t\tdefault:\n\t\t\treturn { state };\n\t}\n}\n\nfunction taxFilterReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"category\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcategory: action.filter,\n\t\t\t};\n\n\t\tcase \"post_tag\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpost_tag: action.filter,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default function EditPost() {\n\tconst {\n\t\tviewOptions: { postStatuses },\n\t} = useContext(ViewContext);\n\tconst {\n\t\tposts: { currentPost, taxonomies, scheduled, unscheduled },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst [editPost, editPostDispatch] = useReducer(\n\t\teditPostReducer,\n\t\tinitialEditPost\n\t);\n\tconst [taxFilter, taxFilterDispatch] = useReducer(\n\t\ttaxFilterReducer,\n\t\tinitialTaxFilter\n\t);\n\tconst node = useRef(null);\n\tconst initial = useRef({});\n\tconst [date, setDate] = useState(new Date());\n\tconst [allowedStatuses, setAllowedStatuses] = useState({});\n\tconst [datePickerDisabled, setDatePickerDisabled] = useState(false);\n\tconst [trashPostClicked, setTrashPostClicked] = useState(false);\n\n\tconst { post, editMode } = editPost;\n\tconst {\n\t\tid,\n\t\tpost_title,\n\t\tpost_name,\n\t\tpost_date,\n\t\tpost_status,\n\t\tpost_excerpt,\n\t\timage,\n\t\tedit_link,\n\t\t// view_link,\n\t\ttaxonomies: post_taxonomies,\n\t\tunscheduled: isUnscheduled,\n\t} = post;\n\n\t// Save the original slug\n\tuseEffect(() => {\n\t\tif (!initial.current.post_status) {\n\t\t\tinitial.current.post_status = post_status;\n\t\t}\n\n\t\tif (!initial.current.slug) {\n\t\t\tinitial.current.slug = post_name;\n\t\t}\n\n\t\treturn () => {\n\t\t\tinitial.current = {};\n\t\t};\n\t}, [post_name, post_status]);\n\n\tuseEffect(() => {\n\t\tif (post_date && post_date !== \"undefined\") {\n\t\t\tsetDate(new Date(post_date));\n\t\t}\n\n\t\treturn () => {\n\t\t\tsetDate(new Date());\n\t\t};\n\t}, [post_date]);\n\n\tuseEffect(() => {\n\t\tlet exclude = [];\n\n\t\tif (isUnscheduled === true) {\n\t\t\texclude.push(\"publish\", \"future\");\n\t\t} else if (isFuture(date)) {\n\t\t\texclude.push(\"publish\");\n\t\t} else if (isPast(date)) {\n\t\t\texclude.push(\"future\");\n\t\t}\n\n\t\tconst statusList = filterStatusList(postStatuses, exclude);\n\n\t\tsetAllowedStatuses(statusList);\n\n\t\treturn () => {\n\t\t\tsetAllowedStatuses({});\n\t\t};\n\t}, [date, isUnscheduled, postStatuses]);\n\n\tuseEffect(() => {\n\t\tconst { post_date, post_status } = currentPost;\n\n\t\tsetDatePickerDisabled(\n\t\t\tpost_date &&\n\t\t\t\t(isToday(post_date) || isPast(post_date)) &&\n\t\t\t\tpost_status === \"publish\"\n\t\t\t\t? true\n\t\t\t\t: false\n\t\t);\n\n\t\treturn () => {\n\t\t\tsetDatePickerDisabled(false);\n\t\t};\n\t}, [currentPost]);\n\n\tuseEffect(() => {\n\t\tconst { id } = currentPost;\n\t\tif (id > 0 || id === 0) {\n\t\t\teditPostDispatch({\n\t\t\t\ttype: \"SET\",\n\t\t\t\tpost: currentPost,\n\t\t\t});\n\t\t}\n\n\t\treturn () => {\n\t\t\teditPostDispatch({\n\t\t\t\ttype: \"CLEAR\",\n\t\t\t});\n\t\t};\n\t}, [currentPost]);\n\n\tconst closeModal = useCallback(() => {\n\t\teditPostDispatch({\n\t\t\ttype: \"CLEAR\",\n\t\t});\n\n\t\tpostsDispatch({\n\t\t\ttype: \"UNSET_CURRENTPOST\",\n\t\t});\n\t}, [editPostDispatch, postsDispatch]);\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tconst { ogPost, post } = editPost;\n\t\tconst posts = { scheduled, unscheduled };\n\n\t\tconst index = isUnscheduled\n\t\t\t? unscheduled.findIndex((item) => item.id === id)\n\t\t\t: null;\n\n\t\t// Move from one list to another\n\t\tconst postLists = {\n\t\t\tsource: ogPost.unscheduled\n\t\t\t\t? \"unscheduled\"\n\t\t\t\t: dayKey(ogPost.post_date),\n\t\t\tdestination: isUnscheduled ? \"unscheduled\" : dayKey(post.post_date),\n\t\t};\n\n\t\tif (postLists.source !== postLists.destination) {\n\t\t\tconst result = moveItem(\n\t\t\t\tgetPostList(postLists.source, posts),\n\t\t\t\tgetPostList(postLists.destination, posts),\n\t\t\t\t{ droppableId: postLists.source },\n\t\t\t\t{ droppableId: postLists.destination }\n\t\t\t);\n\n\t\t\tpostsDispatch({\n\t\t\t\ttype: \"MOVE_POST\",\n\t\t\t\tsource: result[postLists.source],\n\t\t\t\tdestination: result[postLists.destination],\n\t\t\t\tsourceId: result.sourceId,\n\t\t\t\tdestinationId: result.destinationId,\n\t\t\t});\n\t\t}\n\n\t\tpostsDispatch({\n\t\t\ttype: \"PREPARE_UPDATE\",\n\t\t\tid: id,\n\t\t\tparams: {\n\t\t\t\tpost_title,\n\t\t\t\tpost_name,\n\t\t\t\tpost_date: format(\n\t\t\t\t\tnew Date(post.post_date),\n\t\t\t\t\tdateFormat.dateTime\n\t\t\t\t),\n\t\t\t\tpost_status: filterPostStatus(post_status, isUnscheduled),\n\t\t\t\tpost_excerpt,\n\t\t\t\ttaxonomies: post_taxonomies,\n\t\t\t},\n\t\t\tunscheduled: isUnscheduled,\n\t\t\tnewIndex: index,\n\t\t});\n\t\t// }\n\n\t\tpostsDispatch({\n\t\t\ttype: \"UNSET_CURRENTPOST\",\n\t\t});\n\n\t\teditPostDispatch({\n\t\t\ttype: \"CLEAR\",\n\t\t});\n\t};\n\n\tconst trashHandler = () => {\n\t\tpostsDispatch({\n\t\t\ttype: \"SEND_TO_TRASH\",\n\t\t\tid,\n\t\t\tparams: {\n\t\t\t\tpost_date,\n\t\t\t},\n\t\t\tunscheduled: isUnscheduled,\n\t\t});\n\n\t\teditPostDispatch({\n\t\t\ttype: \"CLEAR\",\n\t\t});\n\n\t\tsetTrashPostClicked(false);\n\t};\n\n\tconst handleInputChange = (e) => {\n\t\teditPostDispatch({\n\t\t\ttype: \"EDIT\",\n\t\t\tfield: e.target.name,\n\t\t\tvalue: e.target.value,\n\t\t});\n\t};\n\n\tconst handleCheckboxToggle = (e) => {\n\t\teditPostDispatch({\n\t\t\ttype: \"EDIT\",\n\t\t\tfield: e.target.name,\n\t\t\tvalue: !post[e.target.name],\n\t\t});\n\t};\n\n\tconst handleTermCheckboxChange = (e) => {\n\t\teditPostDispatch({\n\t\t\ttype: \"TOGGLE_TAXONOMY\",\n\t\t\ttaxonomy: e.target.closest(\"fieldset\").name,\n\t\t\tterm_id: e.target.value,\n\t\t});\n\t};\n\n\tconst handleInputDateChange = (date) => {\n\t\tif (date === null) {\n\t\t\tdate = new Date();\n\t\t}\n\n\t\teditPostDispatch({\n\t\t\ttype: \"EDIT\",\n\t\t\tfield: \"post_date\",\n\t\t\tvalue: date,\n\t\t});\n\t};\n\n\tconst renderStatusOptions = (statusList) => {\n\t\treturn Object.keys(statusList).map((status) => (\n\t\t\t<option key={status} value={status}>\n\t\t\t\t{statusList[status].name}\n\t\t\t</option>\n\t\t));\n\t};\n\n\tuseClickOutside(node, closeModal);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`editPost ${editMode ? \"active\" : \"inactive\"}`}\n\t\t\tref={initial}\n\t\t>\n\t\t\t<div className=\"editPost__container\">\n\t\t\t\t{editMode ? (\n\t\t\t\t\t<div ref={node} className=\"editPost__editor\">\n\t\t\t\t\t\t<button className=\"close icon\" onClick={closeModal}>\n\t\t\t\t\t\t\thighlight_off\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tclassName={`editPost__form ${\n\t\t\t\t\t\t\t\ttrashPostClicked ? \"trashConfirm\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"editPost__title\">\n\t\t\t\t\t\t\t\t<FieldGroup name=\"post_title\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tname=\"post_title\"\n\t\t\t\t\t\t\t\t\t\tid=\"post_title\"\n\t\t\t\t\t\t\t\t\t\tvalue={decode(post_title, {\n\t\t\t\t\t\t\t\t\t\t\tscope: \"strict\",\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"New Post Title\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclassName=\"editLink\"\n\t\t\t\t\t\t\t\t\thref={decode(edit_link)}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tEdit{\" \"}\n\t\t\t\t\t\t\t\t\t<Icon className=\"open_in_new\">\n\t\t\t\t\t\t\t\t\t\topen_in_new\n\t\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\t\t\t<div className=\"header__left\">\n\t\t\t\t\t\t\t\t\t{/* {initial.current.post_status ===\n\t\t\t\t\t\t\t\t\t\"publish\" ? (\n\t\t\t\t\t\t\t\t\t\t<FieldGroup name=\"post_name\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"permalink\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"base\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{stripPermalinkSlug(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tview_link\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"post_name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"post_name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={post_name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)} */}\n\t\t\t\t\t\t\t\t\t<FieldGroup name=\"date\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={`post_date ${\n\t\t\t\t\t\t\t\t\t\t\t\tisUnscheduled === true\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"inactive\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"active\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"post_date\">\n\t\t\t\t\t\t\t\t\t\t\t\tPost Date\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\t\t\t\tcloseOnScroll={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target === document\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tselected={date}\n\t\t\t\t\t\t\t\t\t\t\t\ttimeInputLabel=\"Time:\"\n\t\t\t\t\t\t\t\t\t\t\t\tshowTimeInput\n\t\t\t\t\t\t\t\t\t\t\t\tdateFormat={dateFormat.dateTime}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputDateChange}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={datePickerDisabled}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"unscheduled\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"unscheduled\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"unscheduled\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isUnscheduled}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCheckboxToggle}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"unscheduled\">\n\t\t\t\t\t\t\t\t\t\t\t\tUnscheduled\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t\t\t\t<FieldGroup\n\t\t\t\t\t\t\t\t\t\tname=\"post_excerpt\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Excerpt\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\tname=\"post_excerpt\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\t\t\tvalue={decode(post_excerpt, {\n\t\t\t\t\t\t\t\t\t\t\t\tscope: \"strict\",\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"header__right\">\n\t\t\t\t\t\t\t\t\t<div className=\"editPost__buttons\">\n\t\t\t\t\t\t\t\t\t\t{trashPostClicked === true ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"trash confirm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"bold\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tAre you sure you want to\n\t\t\t\t\t\t\t\t\t\t\t\t\tTrash this post?\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={trashHandler}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"Yes\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* TODO bind ESC to cancel */}\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTrashPostClicked(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"No\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"save\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid === 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Save\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Update\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"trash\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTrashPostClicked(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"Delete\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"fieldGroup__status\">\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"post_status\">\n\t\t\t\t\t\t\t\t\t\t\tPost Status\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tname=\"post_status\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={post_status}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{renderStatusOptions(\n\t\t\t\t\t\t\t\t\t\t\t\tallowedStatuses\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<FieldGroup name=\"post_thumb\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={decode(edit_link)}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tFeatured Image{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"open_in_new\">\n\t\t\t\t\t\t\t\t\t\t\t\topen_in_new\n\t\t\t\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t\t\t\t\t{image ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={image}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={`${post_title}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<FieldGroup name=\"taxonomies\">\n\t\t\t\t\t\t\t\t<div className=\"taxonomy\">\n\t\t\t\t\t\t\t\t\t<fieldset name=\"category\">\n\t\t\t\t\t\t\t\t\t\t<legend>Categories</legend>\n\t\t\t\t\t\t\t\t\t\t<div className=\"filter\">\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"category_filter\">\n\t\t\t\t\t\t\t\t\t\t\t\tSearch Categories\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"category_filter\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"category_filter\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={taxFilter.category}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\ttaxFilterDispatch({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"category\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"terms\">\n\t\t\t\t\t\t\t\t\t\t\t{taxonomies.category.terms.map(\n\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ name, slug, term_id },\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttaxFilter.category.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttaxFilter.category ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={slug}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={slug}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={slug}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={term_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleTermCheckboxChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!isEmpty(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpost_taxonomies\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!isEmpty(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpost_taxonomies.category\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpost_taxonomies.category.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tterm_id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{decode(name, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: \"strict\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"taxonomy\">\n\t\t\t\t\t\t\t\t\t<fieldset name=\"post_tag\">\n\t\t\t\t\t\t\t\t\t\t<legend>Tags</legend>\n\t\t\t\t\t\t\t\t\t\t<div className=\"filter\">\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"category_filter\">\n\t\t\t\t\t\t\t\t\t\t\t\tSearch Post Tags\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"post_tag_filter\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"post_tag_filter\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={taxFilter.post_tag}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\ttaxFilterDispatch({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"post_tag\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilter: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"terms\">\n\t\t\t\t\t\t\t\t\t\t\t{taxonomies.post_tag.terms.map(\n\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ name, slug, term_id },\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttaxFilter.post_tag.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttaxFilter.post_tag ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={slug}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={slug}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={term_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleTermCheckboxChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!isEmpty(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpost_taxonomies\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!isEmpty(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpost_taxonomies.post_tag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpost_taxonomies.post_tag.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tterm_id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{decode(name, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: \"strict\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { forwardRef, useContext } from \"react\";\nimport Calendar from \"./Calendar\";\nimport List from \"./List\";\nimport EditPost from \"./EditPost\";\nimport { useFetchTaxonomyTerms } from \"../lib/hooks\";\n\nimport PostsContext from \"../PostsContext\";\nimport ViewContext from \"../ViewContext\";\n\nconst Main = forwardRef(({ todayRef }, ref) => {\n\tconst { posts, postsDispatch } = useContext(PostsContext);\n\tconst {\n\t\tviewOptions: { viewMode },\n\t} = useContext(ViewContext);\n\n\tuseFetchTaxonomyTerms(\"category\", posts, postsDispatch);\n\tuseFetchTaxonomyTerms(\"post_tag\", posts, postsDispatch);\n\n\treturn (\n\t\t<main className=\"calendarioMain__main\">\n\t\t\t<div className=\"view\" ref={ref}>\n\t\t\t\t{viewMode === \"calendar\" ? (\n\t\t\t\t\t<Calendar className=\"view__calendar\" todayRef={todayRef} />\n\t\t\t\t) : (\n\t\t\t\t\t<List className=\"view__list\" todayRef={todayRef} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<EditPost />\n\t\t</main>\n\t);\n});\nexport default Main;\n","import React from \"react\";\n\nexport default function DrawerHandle({ toggle }) {\n\treturn (\n\t\t<button className=\"drawerHandle icon\" onClick={toggle}>\n\t\t\tdrag_indicator\n\t\t</button>\n\t);\n}\n","import React from \"react\";\n\nexport default function Widget({ title, widgetClass, children }) {\n\tconst widgetTitle = title ? <h3 className=\"widgetTitle\">{title}</h3> : \"\";\n\tconst widgetClassLabel = widgetClass ? widgetClass : \"default\";\n\n\treturn (\n\t\t<div className={`widget widget__${widgetClassLabel}`}>\n\t\t\t{widgetTitle}\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport { wp } from \"../lib/utils\";\n\nexport default function AdminLinks() {\n\tconst { blogUrl, trashUrl } = wp;\n\n\tconst renderLink = ([link, title, target]) => {\n\t\ttarget = target ? target : \"_self\";\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<a rel=\"noreferrer\" href={link} target={target}>\n\t\t\t\t\t{title} <span className=\"icon\">open_in_new</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn (\n\t\t<ul className=\"adminLinks\">\n\t\t\t{renderLink([trashUrl, \"Trash\", \"_blank\"])}\n\t\t\t{renderLink([blogUrl, \"View Posts\", \"_blank\"])}\n\t\t</ul>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport PostList from \"./PostList\";\nimport AdminLinks from \"./AdminLinks\";\nimport NewPostButton from \"./common/NewPostButton\";\nimport { useFetchUnscheduledPosts } from \"../lib/hooks\";\n\nimport PostsContext from \"../PostsContext\";\n\nexport default function UnscheduledDrafts() {\n\tconst { posts, postsDispatch } = useContext(PostsContext);\n\n\tconst { unscheduled } = posts;\n\n\tuseFetchUnscheduledPosts(posts, postsDispatch);\n\n\treturn (\n\t\t<>\n\t\t\t<PostList\n\t\t\t\tclassName=\"unscheduledDrafts\"\n\t\t\t\tdate={false}\n\t\t\t\tposts={unscheduled}\n\t\t\t/>\n\t\t\t<NewPostButton unscheduled={true} />\n\t\t\t<AdminLinks />\n\t\t</>\n\t);\n}\n","import React, {\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseRef,\n\tuseState,\n} from \"react\";\nimport { wp } from \"../../lib/utils\";\nimport { useClickOutside } from \"../../lib/hooks\";\n\nimport ViewContext from \"../../ViewContext\";\n\nimport { HexColorPicker } from \"react-colorful\";\n\nexport default function ColorPickerPopover({ color, name }) {\n\tconst { presetStatusColors } = wp;\n\tconst popover = useRef();\n\tconst previous = useRef(color);\n\tconst {\n\t\tviewOptions: { postStatuses },\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\tconst [colorValue, setColorValue] = useState(\"\");\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (popover.current === undefined && !color) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetColorValue(color);\n\t}, [color]);\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\tpopover.current === undefined ||\n\t\t\tpostStatuses[name].color === colorValue ||\n\t\t\tprevious.current === colorValue\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"SET_POST_STATUS_COLOR\",\n\t\t\tpostStatus: name,\n\t\t\tcolor: colorValue,\n\t\t});\n\n\t\tprevious.current = colorValue;\n\t}, [colorValue, name, postStatuses, viewOptionsDispatch]);\n\n\tconst close = useCallback(() => setIsOpen(false), []);\n\tuseClickOutside(popover, close);\n\n\treturn (\n\t\t<div className=\"picker\">\n\t\t\t<div\n\t\t\t\tclassName=\"swatch\"\n\t\t\t\tstyle={{ backgroundColor: colorValue }}\n\t\t\t\tonClick={() => setIsOpen(true)}\n\t\t\t/>\n\n\t\t\t{isOpen && (\n\t\t\t\t<div className=\"popover\" ref={popover}>\n\t\t\t\t\t<HexColorPicker\n\t\t\t\t\t\tcolor={colorValue}\n\t\t\t\t\t\tonChange={setColorValue}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className=\"picker__swatches\">\n\t\t\t\t\t\t{presetStatusColors === undefined\n\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t: presetStatusColors.map((color) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tkey={color}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"picker__swatch\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ background: color }}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorValue(color)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t  })}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nexport default function ToggleButton({ selected, toggleSelected, name }) {\n\treturn (\n\t\t<div className=\"toggle\">\n\t\t\t<button\n\t\t\t\tname={name}\n\t\t\t\tclassName={`dialog-button ${selected ? \"\" : \"disabled\"}`}\n\t\t\t\tonClick={toggleSelected}\n\t\t\t>\n\t\t\t\t{selected ? \"ON\" : \"OFF\"}\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport ColorPickerPopover from \"./common/ColorPickerPopover\";\nimport ToggleButton from \"./common/ToggleButton\";\nimport { wp, haveColorsChanged } from \"../lib/utils\";\nimport { isEmpty } from \"lodash\";\n\nimport ViewContext from \"../ViewContext\";\n\nexport default function StatusFilters() {\n\tconst { routeBase } = wp;\n\tconst firstUpdate = useRef(true);\n\tconst {\n\t\tviewOptions: { postStatuses },\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\tconst keys = Object.keys(postStatuses);\n\tconst [colorsChanged, setColorsChanged] = useState(false);\n\n\t// Maintain state for color defaults\n\tuseEffect(() => {\n\t\tsetColorsChanged(haveColorsChanged(postStatuses));\n\t}, [postStatuses]);\n\n\t// Updates the server when the dispatch is updated (after debounce)\n\tuseEffect(() => {\n\t\tif (isEmpty(postStatuses)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (firstUpdate.current === true) {\n\t\t\tfirstUpdate.current = false;\n\t\t\treturn;\n\t\t}\n\n\t\tlet url = `${routeBase}/statuses`;\n\n\t\tconst fetchData = async () => {\n\t\t\tlet colors = {};\n\t\t\tfor (let status in postStatuses) {\n\t\t\t\tcolors[status] = postStatuses[status].color;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst { nonce } = wp;\n\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t\"X-WP-Nonce\": nonce,\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify(colors),\n\t\t\t\t});\n\n\t\t\t\t// const data = await response.json(); // If you need to catch the response...\n\n\t\t\t\tawait response.json();\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error.message);\n\t\t\t}\n\t\t};\n\n\t\tfetchData();\n\t}, [firstUpdate, routeBase, postStatuses]);\n\n\tconst toggleStatus = (e) => {\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"TOGGLE_POST_STATUS\",\n\t\t\tpostStatus: e.target.name,\n\t\t});\n\t};\n\n\tconst handleResetColors = () => {\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"RESET_POST_STATUS_COLORS\",\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"statusFilters\">\n\t\t\t<ul className=\"filters\">\n\t\t\t\t{keys.map((status, index) => {\n\t\t\t\t\tconst { color, name } = postStatuses[status];\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`filterItem status__${status}`}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ColorPickerPopover color={color} name={status} />\n\t\t\t\t\t\t\t<span className=\"name\">{name}</span>\n\t\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t\t\tpostStatuses[status].visible ? true : false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttoggleSelected={toggleStatus}\n\t\t\t\t\t\t\t\tname={status}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t{colorsChanged ? (\n\t\t\t\t<button className=\"reset\" onClick={handleResetColors}>\n\t\t\t\t\tReset Colors\n\t\t\t\t</button>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport ViewContext from \"../ViewContext\";\n\nexport default function ViewOptions() {\n\tconst {\n\t\tviewOptions: { viewMode },\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\n\tconst handleViewModeChange = (e) => {\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"SET_VIEW_MODE\",\n\t\t\tviewMode: e.target.value,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"viewMode\">\n\t\t\t<button\n\t\t\t\tonClick={handleViewModeChange}\n\t\t\t\tclassName={`icon control viewMode__input ${\n\t\t\t\t\tviewMode === \"calendar\" ? \"active \" : \"inactive\"\n\t\t\t\t}`}\n\t\t\t\tvalue=\"calendar\"\n\t\t\t\ttitle=\"Calendar\"\n\t\t\t>\n\t\t\t\tcalendar_view_month\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tname=\"viewMode\"\n\t\t\t\tonClick={handleViewModeChange}\n\t\t\t\tclassName={`icon control viewMode__input ${\n\t\t\t\t\tviewMode === \"list\" ? \"active \" : \"inactive\"\n\t\t\t\t}`}\n\t\t\t\tvalue=\"list\"\n\t\t\t\ttitle=\"List\"\n\t\t\t>\n\t\t\t\tview_list\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport DrawerHandle from \"./common/DrawerHandle\";\nimport Widget from \"./common/Widget\";\nimport UnscheduledDrafts from \"./UnscheduledDrafts\";\nimport StatusFilters from \"./StatusFilters\";\nimport ViewOptions from \"./ViewOptions\";\nimport { wp } from \"../lib/utils\";\n\nimport ViewContext from \"../ViewContext\";\n\nexport default function Sidebar() {\n\tconst { pluginUrl } = wp;\n\n\tconst {\n\t\tviewOptions: { sidebarOpen },\n\t\t// viewMode,\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\n\treturn (\n\t\t<aside\n\t\t\tclassName={`calendarioMain__sidebar ${sidebarOpen ? \"open\" : \"closed\"}`}\n\t\t>\n\t\t\t<DrawerHandle\n\t\t\t\ttoggle={() =>\n\t\t\t\t\tviewOptionsDispatch({\n\t\t\t\t\t\ttype: \"TOGGLE_SIDEBAR\",\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div className=\"calendarioMain__sidebar__inner\">\n\t\t\t\t<Widget widgetClass=\"options\">\n\t\t\t\t\t<div className=\"options\">\n\t\t\t\t\t\t<ViewOptions />\n\t\t\t\t\t</div>\n\t\t\t\t</Widget>\n\t\t\t\t<Widget\n\t\t\t\t\ttitle=\"Unscheduled Drafts\"\n\t\t\t\t\twidgetClass=\"unscheduledDrafts\"\n\t\t\t\t>\n\t\t\t\t\t<UnscheduledDrafts />\n\t\t\t\t</Widget>\n\n\t\t\t\t<Widget title=\"Post Status\" widgetClass=\"statusFilters\">\n\t\t\t\t\t<StatusFilters />\n\t\t\t\t</Widget>\n\n\t\t\t\t<Widget widgetClass=\"support\">\n\t\t\t\t\t<div className=\"support-links\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"rhdLogo\"\n\t\t\t\t\t\t\thref=\"https://roundhouse-designs.com\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={`${pluginUrl}rhd-logo.png`}\n\t\t\t\t\t\t\t\talt=\"Roundhouse Designs logo\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul className=\"docs\">\n\t\t\t\t\t\t\t<li>Documentation coming soon</li>\n\t\t\t\t\t\t\t<li>Thanks for testing!</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"mailto:help@roundhouse-designs.com?subject=Calendar.io Support Request?body=***Please type your editorial calendar.io support request here***\"\n\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSupport\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</Widget>\n\t\t\t</div>\n\t\t</aside>\n\t);\n}\n","import React, { useEffect, /*useState,*/ useReducer, useRef } from \"react\";\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport Sidebar from \"./components/Sidebar\";\nimport Icon from \"./components/common/Icon\";\nimport { useStickyState, useFetchPostStatuses, useUpdate } from \"./lib/hooks\";\nimport {\n\tdateIsBetween,\n\tisDraggingUnscheduled,\n\treorderUnscheduled,\n\tgetPostList,\n\tmoveItem,\n\twp,\n\tdraggedPostDestination,\n\tfilterPostStatus,\n} from \"./lib/utils\";\nimport { differenceInWeeks, addWeeks } from \"date-fns\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\n\nimport PostsContext, { postsReducer, initialPosts } from \"./PostsContext\";\nimport DragContext, { dragReducer, initialDrag } from \"./DragContext\";\nimport ViewContext, { viewReducer, initialViewOptions } from \"./ViewContext\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nexport default function App() {\n\tconst [posts, postsDispatch] = useReducer(postsReducer, initialPosts);\n\tconst [draggedPost, draggedPostDispatch] = useReducer(\n\t\tdragReducer,\n\t\tinitialDrag\n\t);\n\tconst [viewOptions, viewOptionsDispatch] = useReducer(\n\t\tviewReducer,\n\t\tinitialViewOptions\n\t);\n\tconst [view, setView] = useStickyState(\n\t\t{\n\t\t\tviewMode: \"calendar\",\n\t\t},\n\t\t\"viewOptions\"\n\t);\n\n\tconst {\n\t\tviewRange: { start, end },\n\t\tpostStatuses,\n\t} = viewOptions;\n\n\tconst todayRef = useRef();\n\tconst mainRef = useRef();\n\n\tconst {\n\t\tunscheduled: unscheduledPosts,\n\t\tscheduled: scheduledPosts,\n\t\tcurrentPost,\n\t} = posts;\n\tconst { user } = wp;\n\n\tuseEffect(() => {\n\t\t// Update the context initially\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"SET_VIEW_MODE\",\n\t\t\tviewMode: view.viewMode,\n\t\t});\n\t\t//eslint-disable-next-line\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Store the values if it's updated elsewhere\n\t\tsetView({\n\t\t\tviewMode: viewOptions.viewMode,\n\t\t});\n\t}, [setView, viewOptions.viewMode]);\n\n\t/**\n\t * Post Statuses\n\t */\n\tuseFetchPostStatuses(viewOptionsDispatch, postStatuses);\n\n\t/**\n\t * Send the upaate\n\t */\n\tuseUpdate(posts, postsDispatch, draggedPost, draggedPostDispatch, user);\n\n\tconst isOverUnscheduled = (droppableId) =>\n\t\tdroppableId === \"unscheduled\" ? true : false;\n\n\tconst handleTodayClick = () => {\n\t\tconst today = new Date();\n\n\t\tif (dateIsBetween(today, start, end)) {\n\t\t\tmainRef.current.scroll({\n\t\t\t\ttop: todayRef.current.offsetTop,\n\t\t\t\tbehavior: \"smooth\",\n\t\t\t});\n\t\t} else {\n\t\t\tconst weekDiff = differenceInWeeks(end, start);\n\n\t\t\tviewOptionsDispatch({\n\t\t\t\ttype: \"SET_RANGE\",\n\t\t\t\tstart: today,\n\t\t\t\tend: addWeeks(today, weekDiff),\n\t\t\t});\n\t\t}\n\t};\n\n\tconst onDragStart = (item) => {\n\t\tlet draggingUnscheduled = isDraggingUnscheduled(item);\n\n\t\tlet postList;\n\t\tif (draggingUnscheduled === true) {\n\t\t\tpostList = unscheduledPosts;\n\t\t} else {\n\t\t\tpostList = scheduledPosts[item.source.droppableId];\n\t\t}\n\n\t\tconst post = postList.find((p) => {\n\t\t\treturn Number(item.draggableId) === Number(p.id);\n\t\t});\n\t\tlet currentIndex = isDraggingUnscheduled(item)\n\t\t\t? item.source.draggableId\n\t\t\t: false;\n\n\t\tdraggedPostDispatch({\n\t\t\ttype: \"START\",\n\t\t\tpost: post,\n\t\t\tdraggingUnscheduled,\n\t\t\tcurrentIndex,\n\t\t});\n\t};\n\n\tconst onDragUpdate = (item) => {\n\t\tif (item.destination === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet overUnscheduled = isOverUnscheduled(item.source.droppableId);\n\n\t\t// only dispatch if an update is necessary\n\t\tif (overUnscheduled === true) {\n\t\t\tdraggedPostDispatch({\n\t\t\t\ttype: \"DRAGGING_OVER_UNSCHEDULED\",\n\t\t\t\tdraggedOver: item.destination.index,\n\t\t\t});\n\t\t} else if (draggedPost.overUnscheduled === true) {\n\t\t\tdraggedPostDispatch({\n\t\t\t\ttype: \"DRAGGING_OVER_CALENDAR\",\n\t\t\t});\n\t\t}\n\t};\n\n\tconst onDragEnd = (item) => {\n\t\tconst { source, destination } = item;\n\t\tconst {\n\t\t\tpost: { id, post_date: post_date_source, post_status },\n\t\t} = draggedPost;\n\n\t\t// dropped outside a list\n\t\tif (!destination) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet overUnscheduled = isOverUnscheduled(destination.droppableId);\n\n\t\tconst post_date = draggedPostDestination(\n\t\t\tpost_date_source,\n\t\t\tdestination.droppableId,\n\t\t\toverUnscheduled\n\t\t);\n\n\t\tif (overUnscheduled && source.droppableId === destination.droppableId) {\n\t\t\t// Reorder\n\t\t\tconst items = reorderUnscheduled(\n\t\t\t\tgetPostList(source.droppableId, posts),\n\t\t\t\tsource.index,\n\t\t\t\tdestination.index\n\t\t\t);\n\n\t\t\tpostsDispatch({\n\t\t\t\ttype: \"SET_UNSCHEDULED\",\n\t\t\t\tposts: items,\n\t\t\t});\n\t\t} else if (source.droppableId !== destination.droppableId) {\n\t\t\t// Move\n\t\t\tconst result = moveItem(\n\t\t\t\tgetPostList(source.droppableId, posts),\n\t\t\t\tgetPostList(destination.droppableId, posts),\n\t\t\t\tsource,\n\t\t\t\tdestination\n\t\t\t);\n\n\t\t\tpostsDispatch({\n\t\t\t\ttype: \"MOVE_POST\",\n\t\t\t\tsource: result[source.droppableId],\n\t\t\t\tdestination: result[destination.droppableId],\n\t\t\t\tsourceId: result.sourceId,\n\t\t\t\tdestinationId: result.destinationId,\n\t\t\t});\n\t\t}\n\n\t\t// Run the update\n\t\tpostsDispatch({\n\t\t\ttype: \"PREPARE_UPDATE\",\n\t\t\tid,\n\t\t\tunscheduled: overUnscheduled,\n\t\t\tparams: {\n\t\t\t\tpost_date,\n\t\t\t\tpost_status: filterPostStatus(post_status, overUnscheduled),\n\t\t\t},\n\t\t\tnewIndex: overUnscheduled ? destination.index : null,\n\t\t});\n\n\t\t// If doing a post edit, save the post date\n\t\tif (currentPost.id === id) {\n\t\t\tpostsDispatch({\n\t\t\t\ttype: \"UPDATE_CURRENTPOST_FIELD\",\n\t\t\t\tfield: \"post_date\",\n\t\t\t\tvalue: post_date,\n\t\t\t});\n\t\t}\n\n\t\tdraggedPostDispatch({ type: \"END\" });\n\t};\n\n\tfunction appClass() {\n\t\tconst { sidebarOpen } = viewOptions;\n\n\t\tlet classes = [\"calendarioMain\"];\n\n\t\tif (sidebarOpen === true) {\n\t\t\tclasses.push(\"sidebarOpen\");\n\t\t} else {\n\t\t\tclasses.push(\"sidebarClosed\");\n\t\t}\n\n\t\treturn classes.join(\" \");\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"mobileOrientationCheck\">\n\t\t\t\t<div className=\"message\">\n\t\t\t\t\t<Icon>screen_rotation</Icon>\n\t\t\t\t\t<p className=\"caption\">Please rotate your device</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={appClass()}>\n\t\t\t\t<ViewContext.Provider\n\t\t\t\t\tvalue={{ viewOptions, viewOptionsDispatch }}\n\t\t\t\t>\n\t\t\t\t\t<PostsContext.Provider value={{ posts, postsDispatch }}>\n\t\t\t\t\t\t<Header handleTodayClick={handleTodayClick} />\n\n\t\t\t\t\t\t<DragContext.Provider\n\t\t\t\t\t\t\tvalue={{ draggedPost, draggedPostDispatch }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DragDropContext\n\t\t\t\t\t\t\t\tonDragEnd={onDragEnd}\n\t\t\t\t\t\t\t\tonDragStart={onDragStart}\n\t\t\t\t\t\t\t\tonDragUpdate={onDragUpdate}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Sidebar />\n\t\t\t\t\t\t\t\t<Main ref={mainRef} todayRef={todayRef} />\n\t\t\t\t\t\t\t</DragDropContext>\n\t\t\t\t\t\t</DragContext.Provider>\n\t\t\t\t\t</PostsContext.Provider>\n\t\t\t\t</ViewContext.Provider>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./scss/index.scss\";\nimport \"./lib/typedefs\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nvar reactAppData = window.rhdReactPlugin || {};\nconst { appSelector } = reactAppData;\nvar appAnchorElement = document.querySelector(appSelector);\n\nif (appAnchorElement) {\n\tReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<App />\n\t\t</React.StrictMode>,\n\t\tappAnchorElement\n\t);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}